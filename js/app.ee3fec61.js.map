{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7a46","webpack:///./src/components/Content.vue?71d1","webpack:///./src/App.vue","webpack:///./src/components/Sidebar.vue","webpack:///./src/i18n/zh-CN.js","webpack:///./src/i18n/en-US.js","webpack:///./src/i18n/index.js","webpack:///./src/js/utils.js","webpack:///./src/icons/IconBase.vue","webpack:///src/icons/IconBase.vue","webpack:///./src/icons/IconBase.vue?7960","webpack:///./src/icons/IconBase.vue?5f26","webpack:///./src/icons/IconSideBar.vue","webpack:///./src/icons/IconSideBar.vue?4e71","webpack:///./src/icons/IconExit.vue","webpack:///./src/icons/IconExit.vue?6326","webpack:///./src/icons/IconSettings.vue","webpack:///./src/icons/IconSettings.vue?a78c","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?9869","webpack:///./src/components/Sidebar.vue?4f66","webpack:///./src/components/Content.vue","webpack:///./src/icons/IconHeart.vue","webpack:///./src/icons/IconHeart.vue?920c","webpack:///./src/icons/IconHeartFilled.vue","webpack:///./src/icons/IconHeartFilled.vue?39a2","webpack:///./src/components/PopupDialog.vue","webpack:///src/components/PopupDialog.vue","webpack:///./src/components/PopupDialog.vue?dc9d","webpack:///./src/components/PopupDialog.vue?815b","webpack:///src/components/Content.vue","webpack:///./src/components/Content.vue?cfac","webpack:///./src/components/Content.vue?8a13","webpack:///./src/components/Preview.vue","webpack:///src/components/Preview.vue","webpack:///./src/components/Preview.vue?1d7b","webpack:///./src/components/Preview.vue?33b1","webpack:///./src/components/PasswordInput.vue","webpack:///src/components/PasswordInput.vue","webpack:///./src/components/PasswordInput.vue?0561","webpack:///./src/components/PasswordInput.vue?d88c","webpack:///./src/components/Settings.vue","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?a69d","webpack:///./src/components/Settings.vue?3676","webpack:///src/App.vue","webpack:///./src/App.vue?710d","webpack:///./src/App.vue?b0f5","webpack:///./src/main.js","webpack:///./src/components/Preview.vue?a49b","webpack:///./src/components/Settings.vue?995f","webpack:///./src/icons/IconBase.vue?76be"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","class","sidebar_shown_on_pc_mode","ref","attrs","contentAlbumName","contentFriendlyName","on","should-show-sidebar","val","sidebar_shown_on_mobile_mode","preview-photo","a","b","e","f","previewPhoto","directives","rawName","expression","staticClass","$event","people_enabled","switch-album","album_name","friendly_name","settings_shown","preview_shown","preview_filename","preview_imagelist","preview_index","preview_album_name","preview_current_obj","preview_photo_count","change-photo","targetIndex","loadMorePhotos","password_input_shown","pwd","checkPassword","staticRenderFns","staticStyle","handleScroll","shouldShowSemiTransparentNavBar","_v","_s","tr","click","raise_event_show_sidebar","openSettings","logout","style","marginTop","opacity","show_banner","get_css_class_list_item","on_switch_album","_l","album_list","album","backgroundImage","preview","people_categories","cata","id","al","backgroundPosition","calcCenterFaceBgpos","translations","zh_CN","en_US","GetCurrentLanguage","lan","navigator","language","localStorage","user_set_lan","getItem","startsWith","_current_language","I18nTextF","text","args","replace","match","index","I18nTranslate","translated","console","log","i18n_translate","get_secured_json","url","password","enabled_password","miyuki_password","Promise","resolve","reject","fetch","then","response","ok","json","Error","catch","x","error","get_json","md5_transform","Array","fill","_a","Number","parseInt","_b","toString","join","DownloadTextAsFile","content","filename","blob","Blob","type","document","createElement","href","URL","createObjectURL","download","display","body","appendChild","removeChild","GetCurrentTimeFormatted","now","Date","year","getFullYear","month","String","getMonth","padStart","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","GetFileContent","ext","fileInput","accept","addEventListener","event","file","target","files","reader","FileReader","onload","onerror","readAsText","CalculateCenterFaceBackgroundPosition","photo","faces","avg_x","map","reduce","avg_y","avg_w","avg_h","center_x","center_y","image_w","w","image_h","h","is_vertical","relative_pos_ratio","actual_offset_ratio","wh_ratio","full_offset_ratio","offset_ratio","Math","max","min","download_text_as_file","get_current_time_f","get_file_content","calc_center_face_bg_pos","translate","i18n","width","height","iconColor","_t","props","default","component","script","components","IconSideBar","IconBase","IconExit","IconSettings","selected_album_name","methods","utils","$emit","album_friendly_name","innerWidth","el","srcElement","scrollTop","categories","album_hash","share_album_hash","album_info","removeItem","location","reload","sidebar_shown_pc","photo_count","menu_more_is_shown","current_zoom_scale","base_name","share_enabled","shareAlbumClick","exportFavClick","importFavClick","photo_list","get_thumbnail_image","get_thumbnail_image_backgrouod_pos","raise_event_show_preview","position","left","bottom","fav","switchFavState","popup_dialog_shown","complete-click","share_dialog_phase","share_password","domProps","composing","shareButtonClick","share_url","title","password_dialog_shown","completeClick","require","feedback","bResult","md5","PHOTO_PER_PAGE","IconHeart","IconHeartFilled","PopupDialog","page_count","current_page_to_load","initial_scroll_height","response_load_new","fav_content_cache","fav_page_cache","computed","album_common_prefix","album_get_count_json_name","album_get_image_at_current_page_json_name","watch","initialize","created","image_file_name","photo_index","photo_obj","setTimeout","max_i","applyFavoriteWithPhotos","alumn_name","image_name","loadAllFavoriteItems","key1","key2","album_config","count","hash","ceil","load_image","scrollHeight","offsetHeight","isFavorite","getFavoriteStorageKey","getFavoriteLocalStorageKey","getFavoriteLocalStorageAllKeys","keys","len","_key","JSON","parse","al_key","$forceUpdate","saveFavoriteState","localstorage","setItem","stringify","alert","password_hash","en","de","split","save_content","_check","fav_json","k0","fal","falk","ee","showNavBar","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","handleCanvasClick","handleTouchStart","handleTouchMove","handleTouchEnd","canvasWidth","canvasHeight","photo_name","raise_hide_preview","catalog_name","downloadPhoto","scale","minScale","zoomOut","toggleZoomPanel","round","maxScale","zoomIn","initialScale","offsetX","initialOffsetX","offsetY","initialOffsetY","resetZoom","showPreviousPhoto","image_list","showNextPhoto","showZoomPanel","zoomPanelLeft","top","zoomPanelTop","handleSliderChange","handlePercentInput","handlePercentBlur","isLoading","image","thumbnail","isDragging","dragStartX","dragStartY","dragStartOffsetX","dragStartOffsetY","dragEndX","undefined","dragEndY","isDarkMode","touches","lastTouchDistance","lastTouchCenter","y","lastTouchScale","isPinching","current_photo_filename","thumbnail_path","current_album_name","photo_path","zoomPercent","newIndex","maxIndex","thumbnail_path_at_index","photo_path_at_index","open","updateCanvasSize","$refs","canvasContainer","rect","getBoundingClientRect","innerHeight","$nextTick","drawImage","calculateInitialTransform","current_photo","imgWidth","imgHeight","scaleX","scaleY","thumbImg","Image","crossOrigin","src","img","checkDarkMode","darkModeMediaQuery","matchMedia","matches","canvas","ctx","getContext","clearRect","fillStyle","fillRect","imgToDraw","save","restore","preventDefault","delta","deltaY","oldScale","newScale","mouseX","clientX","mouseY","clientY","scaleChange","button","deltaX","absDeltaX","abs","getTouchDistance","dx","dy","sqrt","getTouchCenter","from","touch","currentDistance","currentCenter","scaleRatio","centerDeltaX","centerDeltaY","endTouch","changedTouches","absDeltaY","toolbar","querySelector","zoomPanel","toolbarRect","panelRect","parseFloat","canvasCenterX","canvasCenterY","inputValue","isNaN","clampedValue","handleKeyDown","tagName","isContentEditable","newVal","oldVal","loadImages","mounted","handleThemeChange","beforeDestroy","removeEventListener","passwordErrorMsgShown","passwordEntered","indexOf","_k","keyCode","submitPassword","showInput","pi","focus","currentTarget","closeSettings","arguments","selectedLanguage","$$selectedVal","filter","options","selected","_value","multiple","onLanguageChange","_m","Sidebar","ContentView","Preview","PasswordInput","Settings","activeName","content_view_shown","contentView","photoList","is_share_link","share_id","password_input","initialize_for_share","requirePassword","sidebar","getAlbumList","getAlbumListForShare","password_enabled","parse_args","_args","forEach","item","padEnd","app_config","enabled","Vue","config","productionTip","ctrlKey","metaKey","passive","App","$mount"],"mappings":"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","file":"js/app.ee3fec61.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4975b5b1&prod&lang=css\"","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=style&index=0&id=1898d03a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{class:['content-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen']},[_c('ContentView',{ref:\"contentView\",attrs:{\"base_name\":_vm.contentAlbumName,\"album_friendly_name\":_vm.contentFriendlyName,\"sidebar_shown_pc\":_vm.sidebar_shown_on_pc_mode},on:{\"should-show-sidebar\":(val, mode) =>  mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val,\"preview-photo\":(a,b,c,d,e,f) => _vm.previewPhoto(a,b,c,d,e,f)}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar_shown_on_mobile_mode),expression:\"sidebar_shown_on_mobile_mode\"}],staticClass:\"sidebar-mobile-mask\",on:{\"click\":function($event){_vm.sidebar_shown_on_mobile_mode = false}}}),_c('div',{class:['sidebar-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen', _vm.sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']},[_c('Sidebar',{ref:\"sidebar\",attrs:{\"people_enabled\":_vm.people_enabled},on:{\"switch-album\":(album_name, friendly_name) => { this.contentAlbumName = album_name; this.contentFriendlyName = friendly_name; },\"should-show-sidebar\":(val, mode) =>  mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val,\"open-settings\":function($event){_vm.settings_shown = true}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview_shown),expression:\"preview_shown\"}],staticClass:\"preview-container\"},[_c('Preview',{attrs:{\"current_photo_filename\":_vm.preview_filename,\"image_list\":_vm.preview_imagelist,\"index\":_vm.preview_index,\"current_album_name\":_vm.preview_album_name,\"catalog_name\":_vm.contentFriendlyName,\"current_photo\":_vm.preview_current_obj,\"photo_count\":_vm.preview_photo_count},on:{\"hide-preview\":function($event){_vm.preview_shown = false},\"change-photo\":(a,b,c,d,e) => _vm.previewPhoto(a,b,c,d,e, _vm.preview_photo_count),\"load-more-photos\":(targetIndex) => _vm.loadMorePhotos(targetIndex)}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.password_input_shown),expression:\"password_input_shown\"}],staticClass:\"password-container\"},[_c('PasswordInput',{ref:\"password_input\",on:{\"submit-password\":pwd => _vm.checkPassword(pwd)}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.settings_shown),expression:\"settings_shown\"}],staticClass:\"settings-container\"},[_c('Settings',{on:{\"close-settings\":function($event){_vm.settings_shown = false}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"padding-left\":\"10px\",\"padding-right\":\"10px\",\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{class:['navbar', _vm.shouldShowSemiTransparentNavBar ? '' : 'large']},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"Photos\"))+\" \")]),_c('div',{staticClass:\"left-button-group\"},[_c('a',{staticClass:\"hidden-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":() => {\n           this.raise_event_show_sidebar(false, 'mobile');\n           this.raise_event_show_sidebar(false, 'pc') }}},[_c('IconBase',{attrs:{\"icon-color\":\"#5555ff\"}},[_c('IconSideBar')],1)],1)]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.openSettings()}}},[_c('IconBase',{attrs:{\"icon-color\":\"#5555ff\",\"height\":\"21\"}},[_c('IconSettings')],1)],1),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.logout()}}},[_c('IconBase',{attrs:{\"icon-color\":\"#5555ff\",\"height\":\"21\"}},[_c('IconExit')],1)],1)])]),_c('div',{staticClass:\"title1 navtitle\",style:({ marginTop: '50px', opacity: 1-_vm.shouldShowSemiTransparentNavBar })},[_vm._v(\" \"+_vm._s(_vm.tr(\"Photos\"))+\" \")]),_c('div',{staticClass:\"listview normal-menu-ui\",staticStyle:{\"margin-top\":\"5px\"}},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_banner),expression:\"show_banner\"}],class:_vm.get_css_class_list_item('/all'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/all', _vm.tr('sidebar.photo_library'))}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.tr(\"sidebar.photo_library\"))+\" \")])]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_banner),expression:\"show_banner\"}],class:_vm.get_css_class_list_item('/recent'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/recent', _vm.tr('sidebar.recent'))}}},[_c('span',[_vm._v(_vm._s(_vm.tr('sidebar.recent')))])]),_c('a',{class:_vm.get_css_class_list_item('/fav'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/fav', _vm.tr('sidebar.favorites'))}}},[_c('span',[_vm._v(_vm._s(_vm.tr('sidebar.favorites')))])])]),_c('div',{staticClass:\"title2\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"My Albums\"))+\" \")]),_c('div',{staticClass:\"listview\"},_vm._l((_vm.album_list),function(album){return _c('a',{key:album.name,class:[ 'album-prev', _vm.get_css_class_list_item(album.name) ],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album(album.name, album.friendly_name)}}},[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"list_img\",style:({ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' })}),_c('span',{staticStyle:{\"margin-left\":\"27px\"}},[_vm._v(_vm._s(album.friendly_name))])])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.people_enabled && _vm.people_categories.length > 0),expression:\"people_enabled && people_categories.length > 0\"}],staticClass:\"title2\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"People\"))+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.people_enabled && _vm.people_categories.length > 0),expression:\"people_enabled && people_categories.length > 0\"}],staticClass:\"people-list\"},_vm._l((_vm.people_categories),function(cata){return _c('div',{key:cata.id,class:[ 'people', _vm.get_css_class_list_item('/people/category-' + cata.id) ],style:({\n            backgroundImage: 'url(\\'/api/album-cache/' + cata.preview.al + '/' + cata.preview.name + '\\')',\n            backgroundPosition: _vm.calcCenterFaceBgpos(cata.preview)\n         }),on:{\"click\":function($event){_vm.on_switch_album('/people/category-' + cata.id, _vm.tr('sidebar.people.title', cata.id + 1))}}})}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport default {\n    // i18n of Sidebar.vue\n    \"Photos\": \"\",\n    \"My Albums\": \"\",\n    \"sidebar.photo_library\": \"\",\n    \"sidebar.recent\": \"\",\n    \"sidebar.favorites\": \"\",\n    \"People\": \"\",\n    \"sidebar.people.title\": \"{0}\",\n    \"sidebar.shared_album\": \"\",\n\n    // i18n of Content.vue\n    \"content.photo_count\": \"{0}\",\n    \"content.ctx_menu.zoom_in\": \"\",\n    \"content.ctx_menu.zoom_out\": \"\",\n    \"content.ctx_menu.default_scale\": \" (: {0})\",\n    \"content.ctx_menu.share\": \"...\",\n    \"content.ctx_menu.export_fav\": \"\",\n    \"content.ctx_menu.import_fav\": \"\",\n\n    \"content.share_dialog.title\": \"\",\n    \"content.share_dialog.sharing\": \"\",\n    \"content.share_dialog.set_password_label\": \"\",\n    \"content.share_dialog.share_btn\": \"\",\n    \"content.share_dialog.share_link_is\": \"\",\n    \"content.share_dialog.share_link_desc_1\": \"\\n\",\n    \"content.share_dialog.share_link_desc_2\": \"API\",\n    \"content.share_dialog.unsharable\": \"\",\n\n    \"content.fav.unsupported\": \"Local Storage\",\n    \"content.fav.unrecognized\": \"\",\n\n    // i18n of PopupDialog.vue\n    \"popup.complete_btn\": \"\",\n\n    // i18n of PasswordInput.vue\n    \"pwdi.title\": \"\",\n    \"pwdi.hint\": \"\",\n    \"pwdi.retry\": \"\",\n    \"Password\": \"\",\n    \"OK\": \"\",\n\n    // i18n of Preview.vue\n    \"preview.loading\": \"...\",\n    \"preview.download_btn\": \"\",\n    \"preview.zoom_in\": \"\",\n    \"preview.zoom_out\": \"\",\n    \"preview.zoom_percent\": \"\",\n    \"preview.reset_zoom\": \"\",\n    \"preview.prev_photo\": \"\",\n    \"preview.next_photo\": \"\",\n    \"Album\": \"\",\n\n    // i18n of Settings.vue\n    \"Settings\": \"\",\n    \"General\": \"\",\n    \"Language\": \"\",\n    \"About\": \"\",\n    \"Close\": \"\",\n    \"settings.language_hint\": \"\",\n    \"settings.license\": \"Licensed: MIT License\",\n}","\nexport default {\n    // i18n of Sidebar.vue\n    \"sidebar.photo_library\": \"Library\",\n    \"sidebar.recent\": \"Recent\",\n    \"sidebar.favorites\": \"Favorites\",\n    \"sidebar.people.title\": \"People {0}\",\n    \"sidebar.shared_album\": \"Shared Album\",\n\n    // i18n of Content.vue\n    \"content.photo_count\": \"{0} Photos\",\n    \"content.ctx_menu.zoom_in\": \"Zoom In\",\n    \"content.ctx_menu.zoom_out\": \"Zoom Out\",\n    \"content.ctx_menu.default_scale\": \"Default Scaling (Current: {0})\",\n    \"content.ctx_menu.share\": \"Share...\",\n    \"content.ctx_menu.export_fav\": \"Export Favorites\",\n    \"content.ctx_menu.import_fav\": \"Import Favorites\",\n\n    \"content.share_dialog.title\": \"Share Album\",\n    \"content.share_dialog.sharing\": \"Sharing: \",\n    \"content.share_dialog.set_password_label\": \"Set password for sharing:\",\n    \"content.share_dialog.share_btn\": \"Share\",\n    \"content.share_dialog.share_link_is\": \"The permalink is:\",\n    \"content.share_dialog.share_link_desc_1\": \"Send this link to others to share the album without providing them with the album access password.\\nThe person who gets the sharing link needs to enter the sharing password before they can view it.\",\n    \"content.share_dialog.share_link_desc_2\": \"If you want to revoke the access rights, please use the tools provided by this project to regenerate the sharing API.\",\n    \"content.share_dialog.unsharable\": \"You can't share this album.\",\n\n    \"content.fav.unsupported\": \"This feature is unavailable because your browser does not support Local Storage.\",\n    \"content.fav.unrecognized\": \"The selected file is not recognized!\",\n\n    // i18n of PopupDialog.vue\n    \"popup.complete_btn\": \"Complete\",\n\n    // i18n of PasswordInput.vue\n    \"pwdi.title\": \"Album\",\n    \"pwdi.hint\": \"Please input password to access the albums.\",\n    \"pwdi.retry\": \"Password is incorrect, please try again!\",\n\n    // i18n of Preview.vue\n    \"preview.loading\": \"Loading image...\",\n    \"preview.download_btn\": \"Download\",\n    \"preview.zoom_in\": \"Zoom In\",\n    \"preview.zoom_out\": \"Zoom Out\",\n    \"preview.zoom_percent\": \"Zoom Percent\",\n    \"preview.reset_zoom\": \"Reset\",\n    \"preview.prev_photo\": \"Previous (Left Arrow Key)\",\n    \"preview.next_photo\": \"Next (Right Arrow Key)\",\n\n    // i18n of Settings.vue\n    \"Settings\": \"Settings\",\n    \"General\": \"General\",\n    \"Language\": \"Language\",\n    \"About\": \"About\",\n    \"Close\": \"Close\",\n    \"settings.language_hint\": \"The page will automatically refresh after changing the language.\",\n    \"settings.license\": \"Licensed: MIT License\",\n}","import zh_CN from \"@/i18n/zh-CN.js\"\r\nimport en_US from \"@/i18n/en-US\"\r\n\r\nlet translations = {\r\n    \"zh-CN\": zh_CN,\r\n    \"en-US\": en_US,\r\n};\r\n\r\nfunction GetCurrentLanguage() {\r\n    let lan =  navigator.language;\r\n    if (window.localStorage) {\r\n        let user_set_lan = window.localStorage.getItem(\"language\");\r\n        if (typeof user_set_lan !== \"undefined\" && user_set_lan != null && user_set_lan.length) {\r\n            lan = user_set_lan;\r\n        }\r\n    }\r\n    if (lan.startsWith(\"en\"))\r\n        return \"en-US\";\r\n    else\r\n        return lan;\r\n}\r\n\r\nlet _current_language = GetCurrentLanguage();\r\nconsole.log(\"Current language is\", _current_language);\r\n\r\nfunction I18nTextF(text, ...args) {\r\n    if (args.length === 0)\r\n        return text;\r\n    return text.replace(/\\{(\\d+)\\}/g, function (match, index) {\r\n        return typeof args[index] != \"undefined\" ? args[index] : match;\r\n    });\r\n}\r\n\r\nfunction I18nTranslate(text, ...args) {\r\n    let lan = _current_language;\r\n    if (typeof translations[lan] == \"undefined\")\r\n        _current_language = \"en-US\"; // Use en-US for unknown language\r\n    let translated = translations[lan][text];\r\n    if (typeof translated == \"undefined\")\r\n        return I18nTextF(text, ...args);\r\n    return I18nTextF(translated, ...args);\r\n}\r\n\r\nexport default {\r\n    i18n_translate: I18nTranslate\r\n}\r\n","import i18n from \"@/i18n/index.js\"\n\n///////// NETWORK\n\nfunction get_secured_json(url) {\n    let password = \".\";\n    if (window.enabled_password)\n        password = window.miyuki_password;\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${password}/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\nfunction get_json(url) {\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\nfunction md5_transform(a, b) {\n    if (a.length !== 32 || b.length !== 32) {\n        throw new Error('Both MD5 strings must be 32 characters long.');\n    }\n\n    var c = Array(32).fill(0);\n    for (let i=0; i<32; i++) {\n        let _a = Number.parseInt(a[i], 16);\n        let _b = Number.parseInt(b[i], 16);\n        c[i] = (_a ^ _b).toString(16);\n    }\n    return c.join('');\n}\n\nfunction DownloadTextAsFile(content, filename) {\n    // \n    //  Blob \n    const blob = new Blob([content], { type: 'text/plain' });\n\n    //  a  Blob \n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = filename; // \n    a.style.display = 'none'; //  a \n    document.body.appendChild(a); //  a \n    a.click(); //  a \n    document.body.removeChild(a); //  a \n}\n\nfunction GetCurrentTimeFormatted() {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0'); // 0+10\n    const date = String(now.getDate()).padStart(2, '0');\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    const seconds = String(now.getSeconds()).padStart(2, '0');\n\n    return `${year}${month}${date}_${hours}${minutes}${seconds}`;\n}\n\nfunction GetFileContent(ext='.txt') {\n    return new Promise((resolve, reject) => {\n        // input\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = ext; // \n\n        // \n        fileInput.addEventListener('change', function(event) {\n            const file = event.target.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.onload = function(e) {\n                    const text = e.target.result; // \n                    resolve(text); // \n                };\n                reader.onerror = function(e) {\n                    reject(e.target.error); // \n                };\n                reader.readAsText(file); // \n            } else {\n                reject(new Error('No file selected.')); // \n            }\n        });\n\n        // \n        fileInput.click();\n\n        // fileInputDOM\n        // document.body.appendChild(fileInput);\n    });\n}\n\nfunction CalculateCenterFaceBackgroundPosition(photo) {\n    // API\n    if (typeof photo.faces == \"undefined\") {\n        return '0px 0px';\n    }\n    let faces = photo.faces;\n    // \n    if (faces.length == 0)\n        return '0px 0px';\n\n    // \n    let avg_x = faces.map(e => e[0]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_y = faces.map(e => e[1]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_w = faces.map(e => e[2]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_h = faces.map(e => e[3]).reduce((a, b)=>a+b, 0) / faces.length;\n\n    // \n    let center_x = avg_x + avg_w / 2;\n    let center_y = avg_y + avg_h / 2;\n\n    let image_w = photo.w;\n    let image_h = photo.h;\n\n    /*\n                 Preview Window\n      +---------+-------------+---+\n      |         |   +-----+   |   |\n      |         |   |Face |   |   |  Image\n      |         |   +-----+   |   |\n      |         |             |   |\n      +---------+-------------+---+\n\n       \n     */\n\n    // \n    let is_vertical = image_w < image_h;\n    if (is_vertical) {\n        // wh\n        [image_h, image_w] = [image_w, image_h];\n        [center_x, center_y] = [center_y, center_x];\n    }\n\n    // \n    let relative_pos_ratio = center_x / image_w;\n    // background position100%size\n    let actual_offset_ratio = (image_w - image_h) / image_w;\n    // \n    let wh_ratio = image_h / image_w;\n    // 100%background position\n    let full_offset_ratio = 1 / actual_offset_ratio;\n    // \n    let offset_ratio = full_offset_ratio * (relative_pos_ratio - wh_ratio / 2);\n    // 100%(0%)\n    offset_ratio = Math.max(0, Math.min(1, offset_ratio));\n\n    // \n    if (is_vertical) {\n        return `0 ${offset_ratio * 100}%`;\n    }\n    // \n    else {\n        return `${offset_ratio * 100}% 0`;\n    }\n}\n\nexport default {\n    get_secured_json: get_secured_json,\n    get_json: get_json,\n    md5_transform: md5_transform,\n    download_text_as_file: DownloadTextAsFile,\n    get_current_time_f: GetCurrentTimeFormatted,\n    get_file_content: GetFileContent,\n    calc_center_face_bg_pos: CalculateCenterFaceBackgroundPosition,\n    translate: i18n.i18n_translate,\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":_vm.width,\"height\":_vm.height}},[_c('g',{attrs:{\"fill\":_vm.iconColor}},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n  >\r\n    <g :fill=\"iconColor\">\r\n      <slot />\r\n    </g>\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IconBase.vue\",\r\n  props: {\r\n    width: {\r\n      type: [Number, String],\r\n      default: 25,\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 18,\r\n    },\r\n    iconColor: {\r\n      type: String,\r\n      default: \"currentColor\",\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nsvg {\r\n  display: inline-block;\r\n  vertical-align: baseline;\r\n  margin-bottom: -2px; /* yes, I'm that particular about formatting */\r\n}\r\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconBase.vue?vue&type=template&id=107806a9&scoped=true\"\nimport script from \"./IconBase.vue?vue&type=script&lang=js\"\nexport * from \"./IconBase.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconBase.vue?vue&type=style&index=0&id=107806a9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"107806a9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M3.06641 17.998L19.9609 17.998C22.0117 17.998 23.0273 16.9824 23.0273 14.9707L23.0273 3.04688C23.0273 1.03516 22.0117 0.0195312 19.9609 0.0195312L3.06641 0.0195312C1.02539 0.0195312 0 1.02539 0 3.04688L0 14.9707C0 16.9922 1.02539 17.998 3.06641 17.998ZM3.08594 16.4258C2.10938 16.4258 1.57227 15.9082 1.57227 14.8926L1.57227 3.125C1.57227 2.10938 2.10938 1.5918 3.08594 1.5918L19.9414 1.5918C20.9082 1.5918 21.4551 2.10938 21.4551 3.125L21.4551 14.8926C21.4551 15.9082 20.9082 16.4258 19.9414 16.4258ZM7.44141 16.7285L8.97461 16.7285L8.97461 1.29883L7.44141 1.29883ZM5.56641 5.21484C5.85938 5.21484 6.12305 4.95117 6.12305 4.66797C6.12305 4.375 5.85938 4.12109 5.56641 4.12109L3.4668 4.12109C3.17383 4.12109 2.91992 4.375 2.91992 4.66797C2.91992 4.95117 3.17383 5.21484 3.4668 5.21484ZM5.56641 7.74414C5.85938 7.74414 6.12305 7.48047 6.12305 7.1875C6.12305 6.89453 5.85938 6.65039 5.56641 6.65039L3.4668 6.65039C3.17383 6.65039 2.91992 6.89453 2.91992 7.1875C2.91992 7.48047 3.17383 7.74414 3.4668 7.74414ZM5.56641 10.2637C5.85938 10.2637 6.12305 10.0195 6.12305 9.72656C6.12305 9.43359 5.85938 9.17969 5.56641 9.17969L3.4668 9.17969C3.17383 9.17969 2.91992 9.43359 2.91992 9.72656C2.91992 10.0195 3.17383 10.2637 3.4668 10.2637Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconSideBar.vue?vue&type=template&id=570030ec\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('g',[_c('path',{attrs:{\"d\":\"M3.02734 20.9375L13.3984 20.9375C15.4199 20.9375 16.4258 19.9219 16.4258 17.8809L16.4258 3.06641C16.4258 1.03516 15.4199 0 13.3984 0L3.02734 0C1.01562 0 0 1.03516 0 3.06641L0 17.8809C0 19.9219 1.01562 20.9375 3.02734 20.9375ZM1.57227 17.8516L1.57227 3.0957C1.57227 2.11914 2.09961 1.57227 3.11523 1.57227L13.3203 1.57227C14.3359 1.57227 14.8535 2.11914 14.8535 3.0957L14.8535 17.8516C14.8535 18.8281 14.3359 19.3652 13.3203 19.3652L3.11523 19.3652C2.09961 19.3652 1.57227 18.8281 1.57227 17.8516Z\",\"fill-opacity\":\"0.85\"}}),_c('path',{attrs:{\"d\":\"M9.04297 13.1348L21.9141 13.1348C23.3594 13.1348 24.5605 11.9238 24.5605 10.4688C24.5605 9.01367 23.3594 7.80273 21.9141 7.80273L9.04297 7.80273C7.58789 7.80273 6.39648 9.01367 6.39648 10.4688C6.39648 11.9238 7.58789 13.1348 9.04297 13.1348Z\",\"fill\":\"aliceblue\"}}),_c('path',{attrs:{\"d\":\"M9.04297 11.2402L19.0723 11.2402L20.5273 11.1816L19.8438 11.8457L18.2617 13.3203C18.1055 13.457 18.0273 13.6621 18.0273 13.8477C18.0273 14.2578 18.3203 14.5605 18.7109 14.5605C18.9258 14.5605 19.082 14.4824 19.2285 14.3359L22.4121 11.0352C22.6074 10.8398 22.6758 10.6641 22.6758 10.4688C22.6758 10.2637 22.6074 10.0977 22.4121 9.90234L19.2285 6.60156C19.082 6.45508 18.9258 6.36719 18.7109 6.36719C18.3203 6.36719 18.0273 6.66016 18.0273 7.07031C18.0273 7.26562 18.1055 7.4707 18.2617 7.60742L19.8438 9.0918L20.5371 9.75586L19.0723 9.6875L9.04297 9.6875C8.63281 9.6875 8.28125 10.0488 8.28125 10.4688C8.28125 10.8887 8.63281 11.2402 9.04297 11.2402Z\",\"fill-opacity\":\"0.85\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconExit.vue?vue&type=template&id=2f4e3461\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('g',[_c('path',{attrs:{\"d\":\"M19.14 12.94C19.18 12.64 19.21 12.34 19.21 12.03C19.21 11.72 19.18 11.42 19.14 11.12L20.96 9.78C21.12 9.66 21.16 9.44 21.07 9.26L19.26 6.26C19.17 6.08 18.97 6 18.78 6.07L16.78 6.88C16.35 6.54 15.88 6.26 15.37 6.06L15.03 3.68C15.01 3.5 14.85 3.36 14.67 3.36H9.33C9.15 3.36 8.99 3.5 8.97 3.68L8.63 6.06C8.12 6.26 7.65 6.54 7.22 6.88L5.22 6.07C5.03 6 4.83 6.08 4.74 6.26L2.93 9.26C2.84 9.44 2.88 9.66 3.04 9.78L4.86 11.12C4.82 11.42 4.79 11.72 4.79 12.03C4.79 12.34 4.82 12.64 4.86 12.94L3.04 14.28C2.88 14.4 2.84 14.62 2.93 14.8L4.74 17.8C4.83 17.98 5.03 18.06 5.22 17.99L7.22 17.18C7.65 17.52 8.12 17.8 8.63 18L8.97 20.38C8.99 20.56 9.15 20.7 9.33 20.7H14.67C14.85 20.7 15.01 20.56 15.03 20.38L15.37 18C15.88 17.8 16.35 17.52 16.78 17.18L18.78 17.99C18.97 18.06 19.17 17.98 19.26 17.8L21.07 14.8C21.16 14.62 21.12 14.4 20.96 14.28L19.14 12.94ZM12 15.5C10.07 15.5 8.5 13.93 8.5 12C8.5 10.07 10.07 8.5 12 8.5C13.93 8.5 15.5 10.07 15.5 12C15.5 13.93 13.93 15.5 12 15.5Z\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconSettings.vue?vue&type=template&id=54082346\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"padding-left: 10px; padding-right: 10px; height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div :class=\"['navbar', shouldShowSemiTransparentNavBar ? '' : 'large']\">\n      <div class=\"nav-title\">\n        {{ tr(\"Photos\") }}\n      </div>\n      <div class=\"left-button-group\">\n        <a class=\"hidden-btn\" href=\"javascript:void(0)\"\n           @click=\"() => {\n             this.raise_event_show_sidebar(false, 'mobile');\n             this.raise_event_show_sidebar(false, 'pc') }\">\n          <IconBase icon-color=\"#5555ff\"> <IconSideBar /> </IconBase>\n        </a>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"openSettings()\" style=\"margin-right: 10px;\"> <IconBase icon-color=\"#5555ff\" height=\"21\"> <IconSettings /> </IconBase> </a>\n        <a href=\"javascript:void(0)\" @click=\"logout()\"> <IconBase icon-color=\"#5555ff\" height=\"21\"> <IconExit /> </IconBase> </a>\n      </div>\n    </div>\n\n    <div class=\"title1 navtitle\" :style=\"{ marginTop: '50px', opacity: 1-shouldShowSemiTransparentNavBar }\">\n      {{ tr(\"Photos\") }}\n    </div>\n\n    <div class=\"listview normal-menu-ui\" style=\"margin-top: 5px;\">\n      <a v-show=\"show_banner\"  :class=\"get_css_class_list_item('/all')\"\n         @click=\"on_switch_album('/all', tr('sidebar.photo_library'))\"\n         href=\"javascript:void(0)\">\n        <span> {{ tr(\"sidebar.photo_library\") }} </span>\n      </a>\n      <a v-show=\"show_banner\" :class=\"get_css_class_list_item('/recent')\"\n         @click=\"on_switch_album('/recent', tr('sidebar.recent'))\"\n         href=\"javascript:void(0)\"><span>{{ tr('sidebar.recent') }}</span>\n      </a>\n      <a :class=\"get_css_class_list_item('/fav')\"\n         @click=\"on_switch_album('/fav', tr('sidebar.favorites'))\"\n         href=\"javascript:void(0)\"><span>{{ tr('sidebar.favorites') }}</span>\n      </a>\n    </div>\n\n    <div class=\"title2\">\n      {{ tr(\"My Albums\") }}\n    </div>\n    <div class=\"listview\">\n      <a :class=\"[ 'album-prev', get_css_class_list_item(album.name) ]\" @click=\"on_switch_album(album.name, album.friendly_name)\"  href=\"javascript:void(0)\" v-for=\"album in album_list\" :key=\"album.name\">\n        <div style=\"position: relative\">\n          <div class=\"list_img\" :style=\"{ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' }\"></div>\n          <span style=\"margin-left: 27px;\">{{ album.friendly_name }}</span>\n        </div>\n\n      </a>\n    </div>\n\n    <div class=\"title2\" v-show=\"people_enabled && people_categories.length > 0\">\n      {{ tr(\"People\") }}\n    </div>\n    <div class=\"people-list\" v-show=\"people_enabled && people_categories.length > 0\">\n      <div :class=\"[ 'people', get_css_class_list_item('/people/category-' + cata.id) ]\" :key=\"cata.id\"\n           :style=\"{\n              backgroundImage: 'url(\\'/api/album-cache/' + cata.preview.al + '/' + cata.preview.name + '\\')',\n              backgroundPosition: calcCenterFaceBgpos(cata.preview)\n           }\"\n           @click=\"on_switch_album('/people/category-' + cata.id, tr('sidebar.people.title', cata.id + 1))\"\n           v-for=\"cata in people_categories\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/sidebar.css';\nimport '../css/mobile_optimize.css'\nimport '../css/dark_theme.css'\nimport utils from \"@/js/utils\";\nimport IconBase from \"@/icons/IconBase\";\nimport IconSideBar from \"@/icons/IconSideBar\";\nimport IconExit from \"@/icons/IconExit\";\nimport IconSettings from \"@/icons/IconSettings\";\n\nexport default {\n  name: \"Sidebar\",\n  components: {IconSideBar, IconBase, IconExit, IconSettings},\n  props: [ \"people_enabled\" ],\n  data: () => ({\n    album_list: [],\n    selected_album_name: '/all',\n    show_banner: true,\n\n    shouldShowSemiTransparentNavBar: false,\n    people_categories: [],\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    on_switch_album(album_name, album_friendly_name) {\n      this.$emit('switch-album', album_name, album_friendly_name);\n      this.selected_album_name = album_name;\n      if (window.innerWidth <= 1200) {\n        this.raise_event_show_sidebar(false, 'mobile');\n      }\n    },\n    get_css_class_list_item(album_name) {\n      return album_name === this.selected_album_name ? \"selected\" : \"\";\n    },\n    handleScroll: function(el) {\n      console.log((el.srcElement.scrollTop));\n      if((el.srcElement.scrollTop) >= 30) {\n        this.shouldShowSemiTransparentNavBar = true;\n      }\n      else {\n        console.log('ttt');\n        this.shouldShowSemiTransparentNavBar = false;\n      }\n    },\n    async getAlbumList() {\n      this.album_list = await utils.get_secured_json('get-album')\n\n      if (this.people_enabled) {\n        const people_categories = await utils.get_secured_json(\"people/categories\");\n        this.people_categories = people_categories.categories;\n      }\n    },\n    async getAlbumListForShare(album_hash) {\n      window.share_album_hash = album_hash;\n      let album_info = { name: \"/share\", friendly_name: \"\", preview: \"\" };\n      this.album_list = [ album_info ];\n      this.show_banner = false;\n      this.on_switch_album(album_info[\"name\"], album_info[\"friendly_name\"]);\n    },\n    logout() {\n      localStorage.removeItem('password');\n      location.reload();\n    },\n    calcCenterFaceBgpos(photo) {\n      return utils.calc_center_face_bg_pos(photo);\n    },\n    openSettings() {\n      this.$emit('open-settings');\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=607be546&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"607be546\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{staticClass:\"cnav\"},[_c('div',{class:['title', 'left', _vm.sidebar_shown_pc?'':'sidebar-hidden']},[_c('span',{staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.album_friendly_name))])]),_c('div',{staticClass:\"title right\"},[_c('span',{staticStyle:{\"color\":\"#eee\",\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm.tr(\"content.photo_count\", _vm.photo_count)))]),_c('button',{on:{\"click\":function($event){_vm.menu_more_is_shown = !_vm.menu_more_is_shown}}},[_vm._v(\"...\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu_more_is_shown),expression:\"menu_more_is_shown\"}],staticClass:\"context-menu-mask\",on:{\"click\":function($event){_vm.menu_more_is_shown = false}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu_more_is_shown),expression:\"menu_more_is_shown\"}],class:['context-menu', _vm.menu_more_is_shown?'shown':'hidden'],staticStyle:{\"top\":\"56px\",\"right\":\"20px\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale >= 2},on:{\"click\":function($event){_vm.current_zoom_scale < 2 && ((_vm.current_zoom_scale++), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.zoom_in\")))]),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale <= -6},on:{\"click\":function($event){_vm.current_zoom_scale > -6 && ((_vm.current_zoom_scale--), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.zoom_out\")))]),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale == 0},on:{\"click\":function($event){_vm.current_zoom_scale != 0 && ((_vm.current_zoom_scale = 0), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.default_scale\", _vm.current_zoom_scale)))]),_c('hr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name[0] !== '/'),expression:\"base_name[0] !== '/'\"}]}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name[0] !== '/'),expression:\"base_name[0] !== '/'\"}],attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":!_vm.share_enabled},on:{\"click\":function($event){return _vm.shareAlbumClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.share\")))]),_c('hr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}]}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.exportFavClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.export_fav\")))]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.importFavClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.import_fav\")))])])]),_c('div',{staticClass:\"back left\",staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'mobile')}}},[_c('i',{staticClass:\"larrow\",staticStyle:{\"border-color\":\"white\"}}),_c('span',{staticClass:\"backtext\"},[_vm._v(_vm._s(_vm.tr(\"Photos\")))])]),_c('div',{class:['back', 'left', 'sidebar-hidden-left', _vm.sidebar_shown_pc?'':'sidebar-hidden'],staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'pc')}}},[_c('span',{staticClass:\"backtext\"},[_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconSideBar')],1)],1)])]),_c('div',_vm._l((_vm.photo_list),function(photo,i){return _c('div',{key:i,class:['photo', 'box', 'scale-ratio-ratio-' + _vm.current_zoom_scale],style:({\n              backgroundImage: `url('${ _vm.get_thumbnail_image(photo.al, photo.name) }')`,\n              backgroundPosition: _vm.get_thumbnail_image_backgrouod_pos(photo)\n            }),attrs:{\"photo-name\":photo.name}},[_c('div',{staticClass:\"photo-mask\",staticStyle:{\"position\":\"absolute\",\"left\":\"0\",\"top\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},on:{\"click\":function($event){return _vm.raise_event_show_preview(photo.name, _vm.photo_list, i, photo.al, photo)}}}),_c('div',{staticClass:\"fav-btn\",style:({\n              position: 'absolute', left: '20px', bottom: '20px',\n              display: photo.fav ? 'block' : ''\n            }),on:{\"click\":function($event){return _vm.switchFavState(photo)}}},[(!photo.fav)?_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconHeart')],1):_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconHeartFilled')],1)],1)])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popup_dialog_shown),expression:\"popup_dialog_shown\"}],staticClass:\"dialog-container\"},[_c('PopupDialog',{ref:\"popup_dialog\",attrs:{\"title\":_vm.tr('content.share_dialog.title')},on:{\"complete-click\":() => { _vm.popup_dialog_shown = false; }}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.share_dialog_phase === 1 && _vm.share_enabled),expression:\"share_dialog_phase === 1 && share_enabled\"}]},[_c('p',[_vm._v(\" \"+_vm._s(_vm.tr(\"content.share_dialog.sharing\"))+\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.album_friendly_name))])]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.set_password_label\")))]),_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.share_password),expression:\"share_password\"}],ref:\"password_input\",staticStyle:{\"width\":\"calc(100% - 15px)\"},attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.share_password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.share_password=$event.target.value}}})]),_c('span',{staticClass:\"mbutton-group\",staticStyle:{\"text-align\":\"center\",\"display\":\"block\"}},[_c('button',{staticClass:\"primary large_button primary_btn\",on:{\"click\":function($event){return _vm.shareButtonClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_btn\")))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.share_dialog_phase === 2 && _vm.share_enabled),expression:\"share_dialog_phase === 2 && share_enabled\"}]},[_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_is\")))]),_c('pre',{staticClass:\"share_url\"},[_vm._v(_vm._s(_vm.share_url))]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_desc_1\")))]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_desc_2\")))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.share_enabled),expression:\"!share_enabled\"}]},[_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.unsharable\")))])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M0 6.49414C0 10.6543 3.48633 14.7461 8.99414 18.2617C9.19922 18.3887 9.49219 18.5254 9.69727 18.5254C9.90234 18.5254 10.1953 18.3887 10.4102 18.2617C15.9082 14.7461 19.3945 10.6543 19.3945 6.49414C19.3945 3.03711 17.0215 0.595703 13.8574 0.595703C12.0508 0.595703 10.5859 1.45508 9.69727 2.77344C8.82812 1.46484 7.34375 0.595703 5.53711 0.595703C2.37305 0.595703 0 3.03711 0 6.49414ZM1.57227 6.49414C1.57227 3.89648 3.25195 2.16797 5.51758 2.16797C7.35352 2.16797 8.4082 3.31055 9.0332 4.28711C9.29688 4.67773 9.46289 4.78516 9.69727 4.78516C9.93164 4.78516 10.0781 4.66797 10.3613 4.28711C11.0352 3.33008 12.0508 2.16797 13.877 2.16797C16.1426 2.16797 17.8223 3.89648 17.8223 6.49414C17.8223 10.127 13.9844 14.043 9.90234 16.7578C9.80469 16.8262 9.73633 16.875 9.69727 16.875C9.6582 16.875 9.58984 16.8262 9.50195 16.7578C5.41016 14.043 1.57227 10.127 1.57227 6.49414Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconHeart.vue?vue&type=template&id=ed8360e6\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M9.69727 18.5254C9.90234 18.5254 10.1953 18.3887 10.4102 18.2617C15.9082 14.7461 19.3945 10.6543 19.3945 6.49414C19.3945 3.03711 17.0215 0.595703 13.9551 0.595703C12.0508 0.595703 10.5859 1.65039 9.69727 3.26172C8.82812 1.66016 7.34375 0.595703 5.43945 0.595703C2.37305 0.595703 0 3.03711 0 6.49414C0 10.6543 3.48633 14.7461 8.99414 18.2617C9.19922 18.3887 9.49219 18.5254 9.69727 18.5254Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconHeartFilled.vue?vue&type=template&id=d7950064\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"popd\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\",\"width\":\"100%\",\"margin\":\"0 0\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true || _vm.password_dialog_shown),expression:\"true || password_dialog_shown\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"ctnt\",staticStyle:{\"text-align\":\"left\"}},[_vm._t(\"default\")],2),_c('div',{staticClass:\"cbgroup\",staticStyle:{\"padding-top\":\"3px\",\"text-align\":\"right\",\"padding-right\":\"10px\"}},[_c('button',{staticClass:\"complete\",attrs:{\"disabled\":!_vm.password_dialog_shown},on:{\"click\":function($event){return _vm.completeClick()}}},[_vm._v(_vm._s(_vm.tr(\"popup.complete_btn\")))])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"popd\">\n    <div style=\"position: relative; height: 100%; width: 100%; margin: 0 0\">\n      <div class=\"dialog\" v-show=\"true || password_dialog_shown\">\n        <div class=\"title\">\n          {{ title }}\n        </div>\n        <div class=\"ctnt\" style=\"text-align: left\">\n          <slot></slot>\n        </div>\n        <div class=\"cbgroup\" style=\"padding-top: 3px; text-align: right; padding-right: 10px\">\n          <button class=\"complete\" @click=\"completeClick()\" :disabled=\"!password_dialog_shown\">{{ tr(\"popup.complete_btn\") }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/popup.css';\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: \"PasswordInput\",\n  props: [ \"title\" ],\n  data: () => ({\n    password_dialog_shown: true,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    async completeClick() {\n      this.$emit('complete-click');\n    },\n    feedback(bResult) {\n      if (!bResult) {\n        this.password_dialog_shown = true;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopupDialog.vue?vue&type=template&id=808765de&scoped=true\"\nimport script from \"./PopupDialog.vue?vue&type=script&lang=js\"\nexport * from \"./PopupDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"808765de\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div  style=\"height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div class=\"cnav\">\n      <div :class=\"['title', 'left', sidebar_shown_pc?'':'sidebar-hidden']\">\n        <span class=\"title-text\">{{ album_friendly_name }}</span>\n      </div>\n      <div class=\"title right\">\n        <span style=\"color: #eee; margin-right: 10px;\">{{ tr(\"content.photo_count\", photo_count) }}</span>\n        <button @click=\"menu_more_is_shown = !menu_more_is_shown\" style=\"\">...</button>\n        <!--  -->\n        <div class=\"context-menu-mask\" v-show=\"menu_more_is_shown\" @click=\"menu_more_is_shown = false\"></div>\n        <div :class=\"['context-menu', menu_more_is_shown?'shown':'hidden']\" v-show=\"menu_more_is_shown\" style=\"top: 56px; right: 20px\">\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale < 2 && ((current_zoom_scale++), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale >= 2\">{{ tr(\"content.ctx_menu.zoom_in\") }}</a>\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale > -6 && ((current_zoom_scale--), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale <= -6\">{{ tr(\"content.ctx_menu.zoom_out\") }}</a>\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale != 0 && ((current_zoom_scale = 0), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale == 0\">{{ tr(\"content.ctx_menu.default_scale\", current_zoom_scale) }}</a>\n          <hr v-show=\"base_name[0] !== '/'\" />\n          <a href=\"javascript:void(0)\" v-show=\"base_name[0] !== '/'\"\n             @click=\"shareAlbumClick()\"\n             :aria-disabled=\"!share_enabled\">{{ tr(\"content.ctx_menu.share\") }}</a>\n          <hr v-show=\"base_name === '/fav'\" />\n          <a href=\"javascript:void(0)\" v-show=\"base_name === '/fav'\"\n            @click=\"exportFavClick()\">{{ tr(\"content.ctx_menu.export_fav\") }}</a>\n          <a href=\"javascript:void(0)\" v-show=\"base_name === '/fav'\"\n            @click=\"importFavClick()\">{{ tr(\"content.ctx_menu.import_fav\") }}</a>\n        </div>\n\n      </div>\n      <div class=\"back left\"   style=\"line-height:45px; left: 18px; top: 0\" @click=\"raise_event_show_sidebar(true, 'mobile')\">\n        <i class=\"larrow\" style=\"border-color: white\"></i><span class=\"backtext\">{{ tr(\"Photos\") }}</span>\n      </div>\n\n      <div :class=\"['back', 'left', 'sidebar-hidden-left', sidebar_shown_pc?'':'sidebar-hidden']\"\n           @click=\"raise_event_show_sidebar(true, 'pc')\" style=\"line-height:45px; left: 18px; top: 0\">\n        <span class=\"backtext\">\n          <IconBase icon-color=\"white\"> <IconSideBar /> </IconBase>\n        </span>\n      </div>\n    </div>\n\n    <div>\n      <div :class=\"['photo', 'box', 'scale-ratio-ratio-' + current_zoom_scale]\" v-for=\"(photo, i) in photo_list\" :photo-name=\"photo.name\" :key=\"i\"\n           :style=\"{\n                backgroundImage: `url('${ get_thumbnail_image(photo.al, photo.name) }')`,\n                backgroundPosition: get_thumbnail_image_backgrouod_pos(photo)\n              }\"\n      >\n        <div class=\"photo-mask\" style=\"position: absolute; left: 0; top: 0; width: 100%; height: 100%;\"\n             @click=\"raise_event_show_preview(photo.name, photo_list, i, photo.al, photo)\"\n        >\n        </div>\n        <div class=\"fav-btn\" :style=\"{\n                position: 'absolute', left: '20px', bottom: '20px',\n                display: photo.fav ? 'block' : ''\n              }\"\n             @click=\"switchFavState(photo)\" >\n          <IconBase icon-color=\"white\" v-if=\"!photo.fav\"> <IconHeart /> </IconBase>\n          <IconBase icon-color=\"white\" v-else> <IconHeartFilled /> </IconBase>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"dialog-container\" v-show=\"popup_dialog_shown\">\n      <PopupDialog ref=\"popup_dialog\"\n                   :title=\"tr('content.share_dialog.title')\"\n                   @complete-click=\"() => { popup_dialog_shown = false; }\"\n      >\n        <div v-show=\"share_dialog_phase === 1 && share_enabled\">\n          <!-- (1) Set password for sharing -->\n          <p>\n            {{ tr(\"content.share_dialog.sharing\") }}\n            <span style=\"font-weight: bold\">{{ album_friendly_name }}</span>\n          </p>\n          <p>{{ tr(\"content.share_dialog.set_password_label\") }}</p>\n          <p>\n            <input type=\"password\"\n                   v-model=\"share_password\"\n                   style=\"width: calc(100% - 15px)\"\n                   ref=\"password_input\" >\n          </p>\n          <span class=\"mbutton-group\" style=\"text-align: center; display: block\">\n            <button class=\"primary large_button primary_btn\"\n                    @click=\"shareButtonClick()\" >{{ tr(\"content.share_dialog.share_btn\") }}</button>\n          </span>\n        </div>\n        <div v-show=\"share_dialog_phase === 2 && share_enabled\">\n          <!-- (2) Show results of sharing -->\n          <p>{{ tr(\"content.share_dialog.share_link_is\") }}</p>\n          <pre class=\"share_url\">{{ share_url }}</pre>\n          <p>{{ tr(\"content.share_dialog.share_link_desc_1\") }}</p>\n          <p>{{ tr(\"content.share_dialog.share_link_desc_2\") }}</p>\n        </div>\n        <div v-show=\"!share_enabled\">\n          <p>{{ tr(\"content.share_dialog.unsharable\") }}</p>\n        </div>\n      </PopupDialog>\n    </div>\n  </div>\n</template>\n\n<script>\n//import IDMapping from \"@/js/IDMapping\";\nimport '../css/style.css'\nimport '../css/contentview.css'\nimport '../css/content_scale.css'\nimport '../css/menu.css'\nimport '../css/dark_theme.css'\nimport utils from \"@/js/utils\";\nimport IconBase from \"@/icons/IconBase\";\nimport IconSideBar from \"@/icons/IconSideBar\";\nimport IconHeart from \"@/icons/IconHeart\";\nimport IconHeartFilled from \"@/icons/IconHeartFilled\";\nimport PopupDialog from \"@/components/PopupDialog\";\nlet md5 = require('js-md5');\n\nconst PHOTO_PER_PAGE = 50;\n\nexport default {\n  name: \"Content\",\n  components: { IconSideBar, IconBase, IconHeart, IconHeartFilled, PopupDialog },\n  props: [ 'base_name', 'album_friendly_name', 'sidebar_shown_pc' ],\n  data() {\n    return {\n      page_count: 0,\n      current_page_to_load: 0,\n      photo_count: 0,\n      photo_list: [],\n      album_hash: '',\n      initial_scroll_height: 0,\n      response_load_new: true,\n      fav_content_cache: {},\n      fav_page_cache: null,\n      // UI Element -- Menu\n      menu_more_is_shown: false,\n      current_zoom_scale: 0,\n      share_enabled: false,\n      // Share dialog\n      popup_dialog_shown: false,\n      share_dialog_phase: 1,\n      share_password: \"\",\n      share_url: \"\",\n    }\n  },\n  computed: {\n    album_common_prefix() {\n      if (this.base_name === '/all')\n        return 'get-photo-';\n      if (this.base_name === '/recent')\n        return 'get-recent-photo-';\n      if (this.base_name === '/fav')\n        return 'get-fav-photo-'; // load from localstorage\n      if (this.base_name === \"/share\")\n        return 'get-shared-photo-'; // load from another URL\n      return this.base_name + '-get-photo-';\n    },\n    album_get_count_json_name() {\n      return this.album_common_prefix + \"count\";\n    },\n    album_get_image_at_current_page_json_name() {\n      return this.album_common_prefix + \"page-\" + String(this.current_page_to_load);\n    }\n  },\n  watch: {\n    base_name() {\n      this.initialize();\n    },\n  },\n  created() {},\n  async mounted() {\n    this.initialize();\n  },\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    raise_event_show_preview(image_file_name, photo_list, photo_index, album_name, photo_obj) {\n      this.$emit('preview-photo', image_file_name, photo_list, photo_index, album_name, photo_obj, this.photo_count);\n    },\n    async load_image() {\n      // console.log(\"load album:\", this.album_get_count_json_name)\n      if (!this.response_load_new) {\n        return;\n      }\n      this.response_load_new = false;\n      setTimeout(() => { this.response_load_new = true; }, 1000)\n      if (this.current_page_to_load >= this.page_count) {\n        this.response_load_new = true;\n        return;\n      }\n      if (this.album_get_count_json_name.startsWith(\"get-fav-photo-\")) {\n        let max_i = Math.min(this.photo_list.length + PHOTO_PER_PAGE, this.fav_page_cache.length);\n        for (let i=this.photo_list.length; i < max_i; i++) {\n          this.photo_list.push(this.fav_page_cache[i]);\n        }\n      }\n      else if (this.album_get_count_json_name.startsWith(\"get-shared-photo-\")) {\n        let share_album_hash = window.share_album_hash;\n        if (typeof window.share_album_hash === 'undefined') {\n          throw Error('share_album_hash not defined');\n        }\n        console.log(\"share_album_hash\", share_album_hash);\n\n        this.photo_list.push(\n            ...await utils.get_json(`shared/${share_album_hash}-get-photo-page-${String(this.current_page_to_load)}`));\n        // Note: disable favorite feature in the sharing mode\n      }\n      else {\n        this.photo_list.push(...await utils.get_secured_json(this.album_get_image_at_current_page_json_name));\n        this.applyFavoriteWithPhotos(); // TODO: photolist\n      }\n\n      this.current_page_to_load++;\n      this.response_load_new = true;\n    },\n    get_thumbnail_image(alumn_name ,image_name) {\n      return \"/api/album-cache/\" + alumn_name + \"/\" + image_name;\n    },\n    get_thumbnail_image_backgrouod_pos(photo) {\n      return utils.calc_center_face_bg_pos(photo);\n    },\n\n    async initialize() {\n      if (this.base_name === \"\")\n        return;\n\n      this.current_page_to_load = 0;\n      this.photo_list = [];\n      this.response_load_new = true;\n      this.initial_scroll_height = 0;\n      this.photo_count = this.page_count = 0;\n      // this.share_enabled = false; // do not update state\n      this.album_hash = '';\n\n      // get page count\n      // console.log(\"get photo count: \", this.album_get_count_json_name);\n      if (this.album_get_count_json_name.startsWith(\"get-fav-photo-\")) {\n        // not loaded\n        if (this.fav_page_cache == null || this.current_page_to_load == 0) {\n          this.fav_page_cache = [];\n          this.loadAllFavoriteItems();\n          // console.log(this.fav_content_cache)\n          for (let key1 in this.fav_content_cache) {\n            // console.log(key1)\n            for (let key2 in this.fav_content_cache[key1]) {\n              this.fav_page_cache.push(this.fav_content_cache[key1][key2]);\n            }\n          }\n        }\n        this.photo_count = this.fav_page_cache.length;\n        this.share_enabled = false; // disable share for favorite\n        this.album_hash = '';\n\n        // console.log(\"-- Favorite album count:\", this.photo_count);\n      }\n      // get shared photo count\n      else if (this.album_get_count_json_name.startsWith(\"get-shared-photo-\")) {\n        let share_album_hash = window.share_album_hash;\n        if (typeof window.share_album_hash === 'undefined') {\n          throw Error('share_album_hash not defined');\n        }\n        console.log(\"share_album_hash\", share_album_hash);\n        let album_config = await utils.get_json(`shared/${share_album_hash}-get-photo-count`);\n        this.photo_count = album_config.count;\n        this.album_hash = ''; // do not allow share for shared album\n        this.share_enabled = false; // do not allow share for shared album\n      }\n      // get normal album\n      else {\n        let album_config = (await utils.get_secured_json(this.album_get_count_json_name));\n        this.photo_count = album_config.count;\n        this.album_hash = album_config.hash;\n        this.share_enabled = typeof album_config.hash !== \"undefined\"\n      }\n      //this.photo_count = this.get_page_count(this.album_get_count_json_name);\n      this.page_count = Math.ceil(this.photo_count / PHOTO_PER_PAGE);\n\n      // load page 0 first\n      if (this.page_count > 0) {\n        this.load_image();\n      }\n    },\n    handleScroll: function(el) {\n      if (this.initial_scroll_height === 0)\n        this.initial_scroll_height = el.srcElement.scrollHeight / 10;\n      if((el.srcElement.offsetHeight + el.srcElement.scrollTop) >= el.srcElement.scrollHeight - this.initial_scroll_height) {\n        this.load_image()\n      }\n    },\n\n    // Favorite\n    isFavorite(photo) {\n      return photo.fav\n    },\n    /// key\n    getFavoriteStorageKey(photo) {\n      return `${photo.al}/${photo.name}`;\n    },\n    /// Local Storagekey\n    getFavoriteLocalStorageKey(photo) {\n      return `album_fav_${photo.al}`;\n    },\n    /// local Storagekey\n    getFavoriteLocalStorageAllKeys() {\n      let keys = []\n      for (let i = 0, len = localStorage.length; i < len ; ++i) {\n        let _key = localStorage.key(i);\n        if (_key.startsWith(\"album_fav_\"))\n          keys.push(_key);\n      }\n      return keys;\n    },\n    loadAllFavoriteItems() {\n      this.fav_content_cache = {};\n      let keys = this.getFavoriteLocalStorageAllKeys();\n      // console.log(keys)\n      for (let i = 0; i < keys.length; i++) {\n        this.fav_content_cache[keys[i]] = JSON.parse(localStorage.getItem(keys[i]));\n      }\n    },\n    applyFavoriteWithPhotos() {\n      this.loadAllFavoriteItems();\n      for (let i=0; i<this.photo_list.length; i++) {\n        let key = this.getFavoriteStorageKey(this.photo_list[i]);\n        let al_key = this.getFavoriteLocalStorageKey(this.photo_list[i]);\n        if (typeof this.fav_content_cache[al_key] == \"undefined\")\n          continue;\n        if (typeof this.fav_content_cache[al_key][key] == \"undefined\")\n          continue;\n        this.photo_list[i].fav = true;\n        // console.log('-- Favorite item:', key);\n      }\n      this.$forceUpdate();\n    },\n    saveFavoriteState(photo) {\n      let key = this.getFavoriteStorageKey(photo);\n      let al_key = this.getFavoriteLocalStorageKey(photo);\n      if (typeof this.fav_content_cache[al_key] == \"undefined\") {\n        this.fav_content_cache[al_key] = {}\n      }\n      if (photo.fav) {\n        // Add to favorite\n        this.fav_content_cache[al_key][key] = photo;\n      }\n      else {\n        // Remove from favorite\n        delete this.fav_content_cache[al_key][key];\n      }\n      let localstorage = window.localStorage;\n      if (typeof localstorage === \"undefined\") {\n        alert(this.tr(\"content.fav.unsupported\"));\n        return;\n      }\n      // Save as <key, value> to local storage\n      localstorage.setItem(\n          al_key,\n          JSON.stringify(this.fav_content_cache[al_key]));\n    },\n    switchFavState(photo) {\n      photo.fav = !photo.fav;\n      this.$forceUpdate();\n      this.saveFavoriteState(photo)\n    },\n\n    // Share album feature\n    shareAlbumClick() {\n      if (typeof this.album_hash === \"undefined\" || this.album_hash === \"\") {\n        return;\n      }\n      this.share_dialog_phase = 1;\n      this.popup_dialog_shown = true;\n      //this.$refs.password_input.focus();\n      this.menu_more_is_shown = false;\n    },\n    shareButtonClick() {\n      if (this.share_password === \"\") {\n        return;\n      }\n      let password_hash = md5(this.share_password);\n      console.log(\"password hash:\", password_hash);\n      console.log(\"album hash:   \", this.album_hash);\n      let en = utils.md5_transform(this.album_hash, password_hash);\n      let de = utils.md5_transform(en, password_hash);\n      console.log(\"encrypted:    \", en);\n      console.log(\"decrypted:    \", de);\n      this.share_dialog_phase = 2;\n      this.share_url = location.href.split(\"?\")[0].split(\"#\")[0] + \"?shared_id=\" + en;\n      this.share_password = \"\";\n    },\n    exportFavClick() {\n      this.menu_more_is_shown = false;\n      let keys = this.getFavoriteLocalStorageAllKeys();\n      console.log(\"export fav:\", keys);\n      let save_content = {};\n      for (let i = 0; i < keys.length; i++) {\n        save_content[keys[i]] = localStorage.getItem(keys[i]);\n      }\n      let filename = \"export_favorite_\" + utils.get_current_time_f() + \".json\"\n      utils.download_text_as_file(JSON.stringify(save_content), filename);\n    },\n    async importFavClick() {\n      this.menu_more_is_shown = false;\n\n      function _check(o) {\n        if (typeof o === \"undefined\") {\n          throw new Error(\"object is undefined\");\n        }\n      }\n\n      try {\n        let fav_json = await utils.get_file_content(\".json\")\n        fav_json = JSON.parse(fav_json)\n        console.log(fav_json);\n\n        // Check if is valid favorite\n        let fav = {};\n        let k0 = Object.keys(fav_json);\n        console.log(k0)\n        for (let i=0; i<k0.length; i++) {\n          let fal = JSON.parse(fav_json[k0[i]]);\n\n          // check for each item\n          let falk = Object.keys(fal);\n          for (let j=0; j < falk.length; j++) {\n            let al = fal[falk[j]];\n            // console.log(al)\n            _check(al[\"al\"])\n            _check(al[\"name\"])\n            _check(al[\"h\"])\n            _check(al[\"w\"])\n            _check(al[\"ct\"])\n          }\n        }\n\n        for (let i=0; i<k0.length; i++) {\n          let fal = fav_json[k0[i]];\n          console.log(\"Import favorite: \", k0[i], fal)\n          window.localStorage.setItem(k0[i], fal);\n        }\n\n        this.initialize(); // reload favorite\n      }\n      catch (ee) {\n        console.log(ee);\n        alert(this.tr(\"content.fav.unrecognized\"));\n      }\n\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n.fav-btn {\n  display: none;\n  cursor: pointer;\n}\n\n.photo-mask:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.photo.box:hover >.fav-btn {\n  display: block;\n}\n\ndiv.dialog-container {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 19999;\n}\n\nbutton.large_button {\n  width: 100px;\n}\n\nbutton.primary_btn,\nbutton.primary_btn:hover {\n  border: 1px solid #5555ff;\n  background-color: #5555ff;\n}\nbutton.primary_btn:active {\n  border: 1px solid #000088 !important;\n  background-color: #000088 !important;\n}\n\npre.share_url {\n  user-select: all;\n  text-wrap: wrap;\n  color: blue;\n  background: #fff;\n  padding: 10px;\n  border-radius: 5px;\n}\npre.share_url:hover {\n  text-decoration: underline;\n}\n\n.cnav::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  backdrop-filter: blur(2px);\n  mask: linear-gradient(to bottom,\n            rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.9) 50% ,rgba(0, 0, 0, 0) 100%);\n  pointer-events: none;\n}\n\n@media screen and (max-width: 500px) {\n  button.large_button {\n    width: 100%;\n  }\n\n  button.primary_btn,\n  pre.share_url {\n    background-color: transparent;\n    border: 1px solid #fff;\n    border-top: 1px solid #eee;\n    border-bottom: 1px solid #eee;\n    border-radius: 0;\n    color: #000 !important;\n    padding-left: 15px !important;\n    height: 40px !important;\n    text-align: left;\n    color: #5555ff !important;\n  }\n  button.primary_btn:hover {\n    border: 1px solid #eee !important;\n    background-color: #eee !important;\n  }\n  button.primary_btn:active {\n    border: 1px solid #ddd !important;\n    background-color: #ddd !important;\n  }\n\n  .mbutton-group {\n    border-radius: 6px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Content.vue?vue&type=template&id=1898d03a&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\nimport style0 from \"./Content.vue?vue&type=style&index=0&id=1898d03a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1898d03a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar',staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\",\"overflow\":\"hidden\"}},[_c('div',{ref:\"canvasContainer\",staticClass:\"canvas-container\",on:{\"mousedown\":_vm.handleMouseDown,\"mousemove\":_vm.handleMouseMove,\"mouseup\":_vm.handleMouseUp,\"mouseleave\":_vm.handleMouseUp,\"wheel\":_vm.handleWheel,\"click\":_vm.handleCanvasClick,\"touchstart\":_vm.handleTouchStart,\"touchmove\":_vm.handleTouchMove,\"touchend\":_vm.handleTouchEnd,\"touchcancel\":_vm.handleTouchEnd}},[_c('canvas',{ref:\"canvas\",attrs:{\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNavBar),expression:\"showNavBar\"}],staticClass:\"navbar\",staticStyle:{\"width\":\"100% !important\"}},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" \"+_vm._s(_vm.photo_name)+\" \")]),_c('div',{staticClass:\"left-button-group\",on:{\"click\":function($event){return _vm.raise_hide_preview()}}},[_c('i',{staticClass:\"larrow\"}),_c('span',{staticClass:\"backtext\"},[_vm._v(_vm._s(_vm.catalog_name === '' ? _vm.tr(\"Album\"):_vm.catalog_name))])]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.downloadPhoto()}}},[_vm._v(_vm._s(_vm.tr(\"preview.download_btn\")))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNavBar),expression:\"showNavBar\"}],staticClass:\"zoom-toolbar\"},[_c('div',{staticClass:\"toolbar-group\"},[_c('button',{staticClass:\"zoom-btn\",attrs:{\"disabled\":_vm.scale <= _vm.minScale,\"title\":_vm.tr('preview.zoom_out')},on:{\"click\":_vm.zoomOut}},[_c('span',{staticStyle:{\"font-size\":\"18px\"}},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"}})])])]),_c('button',{staticClass:\"zoom-btn zoom-percent-btn\",attrs:{\"title\":_vm.tr('preview.zoom_percent')},on:{\"click\":_vm.toggleZoomPanel}},[_c('span',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(Math.round(_vm.scale * 100))+\"%\")])]),_c('button',{staticClass:\"zoom-btn\",attrs:{\"disabled\":_vm.scale >= _vm.maxScale,\"title\":_vm.tr('preview.zoom_in')},on:{\"click\":_vm.zoomIn}},[_c('svg',{attrs:{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M12 5V19M5 12H19\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\"}})])]),_c('button',{staticClass:\"zoom-btn\",attrs:{\"disabled\":_vm.scale === _vm.initialScale && _vm.offsetX === _vm.initialOffsetX && _vm.offsetY === _vm.initialOffsetY,\"title\":_vm.tr('preview.reset_zoom')},on:{\"click\":_vm.resetZoom}},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"toolbar-divider\"}),_c('div',{staticClass:\"toolbar-group\"},[_c('button',{staticClass:\"zoom-btn nav-photo-btn\",attrs:{\"disabled\":_vm.index <= 0,\"title\":_vm.tr('preview.prev_photo')},on:{\"click\":_vm.showPreviousPhoto}},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15 18L9 12L15 6\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])]),_c('span',{staticClass:\"photo-counter\"},[_vm._v(_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.photo_count || _vm.image_list.length))]),_c('button',{staticClass:\"zoom-btn nav-photo-btn\",attrs:{\"disabled\":_vm.index >= (_vm.photo_count || _vm.image_list.length) - 1,\"title\":_vm.tr('preview.next_photo')},on:{\"click\":_vm.showNextPhoto}},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M9 18L15 12L9 6\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showZoomPanel && _vm.showNavBar),expression:\"showZoomPanel && showNavBar\"}],ref:\"zoomPanel\",staticClass:\"zoom-panel\",style:({ left: _vm.zoomPanelLeft + 'px', top: _vm.zoomPanelTop + 'px' })},[_c('div',{staticClass:\"zoom-panel-input-group\"},[_c('input',{staticClass:\"zoom-slider\",attrs:{\"type\":\"range\",\"min\":_vm.minScale * 100,\"max\":_vm.maxScale * 100},domProps:{\"value\":_vm.scale * 100},on:{\"input\":_vm.handleSliderChange}}),_c('input',{staticClass:\"zoom-percent-input\",attrs:{\"type\":\"number\",\"min\":_vm.minScale * 100,\"max\":_vm.maxScale * 100},domProps:{\"value\":Math.round(_vm.scale * 100)},on:{\"input\":_vm.handlePercentInput,\"blur\":_vm.handlePercentBlur}}),_c('span',{staticClass:\"zoom-percent-suffix\"},[_vm._v(\"%\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar'\" style=\"width: 100%; height: 100%; position: relative; overflow: hidden;\">\n    <!-- Canvas  -->\n    <div class=\"canvas-container\" \n         @mousedown=\"handleMouseDown\"\n         @mousemove=\"handleMouseMove\"\n         @mouseup=\"handleMouseUp\"\n         @mouseleave=\"handleMouseUp\"\n         @wheel=\"handleWheel\"\n         @click=\"handleCanvasClick\"\n         @touchstart=\"handleTouchStart\"\n         @touchmove=\"handleTouchMove\"\n         @touchend=\"handleTouchEnd\"\n         @touchcancel=\"handleTouchEnd\"\n         ref=\"canvasContainer\">\n      <canvas ref=\"canvas\" :width=\"canvasWidth\" :height=\"canvasHeight\"></canvas>\n    </div>\n    \n    <!--  -->\n    <div class=\"navbar\" style=\"width: 100% !important;\" v-show=\"showNavBar\">\n      <div class=\"nav-title\">\n        {{ photo_name }}\n      </div>\n      <div class=\"left-button-group\" @click=\"raise_hide_preview()\">\n        <i class=\"larrow\"></i><span class=\"backtext\">{{ catalog_name === '' ? tr(\"Album\"):catalog_name }}</span>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"downloadPhoto()\">{{ tr(\"preview.download_btn\") }}</a>\n      </div>\n    </div>\n    \n    <!--  -->\n    <div class=\"zoom-toolbar\" v-show=\"showNavBar\">\n      <div class=\"toolbar-group\">\n        <button class=\"zoom-btn\" @click=\"zoomOut\" :disabled=\"scale <= minScale\" :title=\"tr('preview.zoom_out')\">\n          <span style=\"font-size: 18px;\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>\n          </span>\n        </button>\n        <button class=\"zoom-btn zoom-percent-btn\" @click=\"toggleZoomPanel\" :title=\"tr('preview.zoom_percent')\">\n          <span style=\"font-size: 12px;\">{{ Math.round(scale * 100) }}%</span>\n        </button>\n        <button class=\"zoom-btn\" @click=\"zoomIn\" :disabled=\"scale >= maxScale\" :title=\"tr('preview.zoom_in')\">\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n            </svg>\n        </button>\n        <button class=\"zoom-btn\" @click=\"resetZoom\" :disabled=\"scale === initialScale && offsetX === initialOffsetX && offsetY === initialOffsetY\" :title=\"tr('preview.reset_zoom')\">\n          <span style=\"font-size: 14px;\"></span>\n        </button>\n      </div>\n      <div class=\"toolbar-divider\"></div>\n      <div class=\"toolbar-group\">\n        <button class=\"zoom-btn nav-photo-btn\" @click=\"showPreviousPhoto\" :disabled=\"index <= 0\" :title=\"tr('preview.prev_photo')\">\n          <span style=\"font-size: 14px;\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M15 18L9 12L15 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </span>\n        </button>\n        <span class=\"photo-counter\">{{ index + 1 }} / {{ photo_count || image_list.length }}</span>\n        <button class=\"zoom-btn nav-photo-btn\" @click=\"showNextPhoto\" :disabled=\"index >= (photo_count || image_list.length) - 1\" :title=\"tr('preview.next_photo')\">\n          <span style=\"font-size: 14px;\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M9 18L15 12L9 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </span>\n        </button>\n      </div>\n    </div>\n    \n    <!--  -->\n    <div class=\"zoom-panel\" \n         v-show=\"showZoomPanel && showNavBar\"\n         :style=\"{ left: zoomPanelLeft + 'px', top: zoomPanelTop + 'px' }\"\n         ref=\"zoomPanel\">\n      <div class=\"zoom-panel-input-group\">\n        <input type=\"range\" \n               :min=\"minScale * 100\" \n               :max=\"maxScale * 100\" \n               :value=\"scale * 100\"\n               @input=\"handleSliderChange\"\n               class=\"zoom-slider\">\n        <input type=\"number\" \n               :min=\"minScale * 100\" \n               :max=\"maxScale * 100\"\n               :value=\"Math.round(scale * 100)\"\n               @input=\"handlePercentInput\"\n               @blur=\"handlePercentBlur\"\n               class=\"zoom-percent-input\">\n        <span class=\"zoom-percent-suffix\">%</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/preview.css';\nimport utils from \"@/js/utils\";\n\nexport default {\n  name: \"Preview\",\n  props: [ 'current_album_name', 'current_photo_filename', 'image_list', 'index', 'catalog_name', 'current_photo', 'photo_count' ],\n  data() {\n    return {\n      showNavBar: true,\n      isLoading: true,\n      canvasWidth: 0,\n      canvasHeight: 0,\n      image: null,\n      thumbnail: null,\n      scale: 1,\n      minScale: 0.1,\n      maxScale: 5,\n      offsetX: 0,\n      offsetY: 0,\n      isDragging: false,\n      dragStartX: 0,\n      dragStartY: 0,\n      dragStartOffsetX: 0,\n      dragStartOffsetY: 0,\n      dragEndX: undefined,\n      dragEndY: undefined,\n      initialScale: 1,\n      initialOffsetX: 0,\n      initialOffsetY: 0,\n      isDarkMode: false,\n      // \n      touches: [],\n      lastTouchDistance: 0,\n      lastTouchCenter: { x: 0, y: 0 },\n      lastTouchScale: 1,\n      isPinching: false,\n      // \n      showZoomPanel: false,\n      zoomPanelLeft: 0,\n      zoomPanelTop: 0\n    }\n  },\n  computed: {\n    photo_name() {\n      return this.current_photo_filename.replace(/\\.[a-z|A-Z|0-9]*$/g, \"\");\n    },\n    thumbnail_path() {\n      return `/api/album-cache/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n    photo_path() {\n      return `/api/album/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n    zoomPercent() {\n      return Math.round(this.scale * 100);\n    }\n  },\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_hide_preview() {\n      this.$emit('hide-preview');\n    },\n    showPreviousPhoto() {\n      if (this.index > 0) {\n        const newIndex = this.index - 1;\n        const photo = this.image_list[newIndex];\n        this.$emit('change-photo', photo.name, this.image_list, newIndex, photo.al, photo);\n      }\n    },\n    showNextPhoto() {\n      const maxIndex = (this.photo_count || this.image_list.length) - 1;\n      if (this.index < maxIndex) {\n        const newIndex = this.index + 1;\n        \n        // \n        if (newIndex < this.image_list.length) {\n          const photo = this.image_list[newIndex];\n          this.$emit('change-photo', photo.name, this.image_list, newIndex, photo.al, photo);\n        } else {\n          // \n          this.$emit('load-more-photos', newIndex);\n        }\n      }\n    },\n    thumbnail_path_at_index(i) {\n      return `/api/album-cache/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    photo_path_at_index(i) {\n      return `/api/album/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    downloadPhoto() {\n      window.open(this.photo_path);\n    },\n    updateCanvasSize() {\n      if (this.$refs.canvasContainer) {\n        const rect = this.$refs.canvasContainer.getBoundingClientRect();\n        this.canvasWidth = rect.width;\n        this.canvasHeight = rect.height;\n      } else {\n        this.canvasWidth = window.innerWidth;\n        this.canvasHeight = window.innerHeight;\n      }\n      this.$nextTick(() => {\n        this.drawImage();\n      });\n    },\n    calculateInitialTransform() {\n      if (!this.current_photo) return;\n      \n      const imgWidth = this.current_photo.w;\n      const imgHeight = this.current_photo.h;\n      const canvasWidth = this.canvasWidth;\n      const canvasHeight = this.canvasHeight;\n      \n      const scaleX = canvasWidth / imgWidth;\n      const scaleY = canvasHeight / imgHeight;\n      \n      // \n      this.initialScale = Math.min(scaleX, scaleY, 1);\n      \n      // \n      this.initialOffsetX = canvasWidth / 2;\n      this.initialOffsetY = canvasHeight / 2;\n      \n      this.scale = this.initialScale;\n      this.offsetX = this.initialOffsetX;\n      this.offsetY = this.initialOffsetY;\n    },\n    async loadImages() {\n      this.isLoading = true;\n      \n      //  canvas \n      this.updateCanvasSize();\n      \n      // \n      const thumbImg = new Image();\n      thumbImg.crossOrigin = 'anonymous';\n      thumbImg.onload = () => {\n        this.thumbnail = thumbImg;\n        if (!this.image && this.current_photo) {\n          // \n          this.calculateInitialTransform();\n        }\n        this.drawImage();\n      };\n      thumbImg.onerror = () => {\n        console.error('Failed to load thumbnail:', this.thumbnail_path);\n      };\n      thumbImg.src = this.thumbnail_path;\n      \n      // \n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        this.image = img;\n        this.isLoading = false;\n        this.calculateInitialTransform();\n        this.drawImage();\n      };\n      img.onerror = () => {\n        this.isLoading = false;\n        console.error('Failed to load image:', this.photo_path);\n        // \n        if (this.thumbnail) {\n          this.drawImage();\n        }\n      };\n      img.src = this.photo_path;\n    },\n    checkDarkMode() {\n      // \n      const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      this.isDarkMode = darkModeMediaQuery.matches;\n      return this.isDarkMode;\n    },\n    drawImage() {\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // \n      if (!this.showNavBar) {\n        ctx.fillStyle = '#000000';\n      } else {\n        this.checkDarkMode();\n        ctx.fillStyle = this.isDarkMode ? '#000000' : '#ffffff';\n      }\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      if (!this.image && !this.thumbnail) return;\n      \n      const imgToDraw = this.image || this.thumbnail;\n      if (!imgToDraw || !this.current_photo) return;\n      \n      ctx.save();\n      \n      // \n      ctx.translate(this.offsetX, this.offsetY);\n      // \n      ctx.scale(this.scale, this.scale);\n      \n      // \n      const imgWidth = this.current_photo.w;\n      const imgHeight = this.current_photo.h;\n      ctx.drawImage(\n        imgToDraw,\n        -imgWidth / 2,\n        -imgHeight / 2,\n        imgWidth,\n        imgHeight\n      );\n      \n      ctx.restore();\n    },\n    zoomIn() {\n      this.scale = Math.min(this.scale * 1.2, this.maxScale);\n      this.drawImage();\n    },\n    zoomOut() {\n      this.scale = Math.max(this.scale / 1.2, this.minScale);\n      this.drawImage();\n    },\n    resetZoom() {\n      this.scale = this.initialScale;\n      this.offsetX = this.initialOffsetX;\n      this.offsetY = this.initialOffsetY;\n      this.drawImage();\n    },\n    handleWheel(e) {\n      e.preventDefault();\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      const delta = e.deltaY > 0 ? 0.9 : 1.1;\n      const oldScale = this.scale;\n      const newScale = Math.max(this.minScale, Math.min(this.scale * delta, this.maxScale));\n      \n      // \n      const rect = canvas.getBoundingClientRect();\n      const mouseX = e.clientX - rect.left;\n      const mouseY = e.clientY - rect.top;\n      \n      // \n      const scaleChange = newScale / oldScale;\n      this.offsetX = mouseX - (mouseX - this.offsetX) * scaleChange;\n      this.offsetY = mouseY - (mouseY - this.offsetY) * scaleChange;\n      this.scale = newScale;\n      \n      this.drawImage();\n    },\n    handleMouseDown(e) {\n      if (e.button === 0) { // \n        this.isDragging = true;\n        this.dragStartX = e.clientX;\n        this.dragStartY = e.clientY;\n        this.dragStartOffsetX = this.offsetX;\n        this.dragStartOffsetY = this.offsetY;\n        // \n        this.dragEndX = e.clientX;\n        this.dragEndY = e.clientY;\n        e.preventDefault();\n      }\n    },\n    handleMouseMove(e) {\n      if (this.isDragging) {\n        const deltaX = e.clientX - this.dragStartX;\n        const deltaY = e.clientY - this.dragStartY;\n        this.offsetX = this.dragStartOffsetX + deltaX;\n        this.offsetY = this.dragStartOffsetY + deltaY;\n        this.drawImage();\n        e.preventDefault();\n      }\n    },\n    handleMouseUp(e) {\n      // \n      if (this.isDragging) {\n        this.dragEndX = e.clientX;\n        this.dragEndY = e.clientY;\n        \n        // \n        if (this.scale === this.initialScale) {\n          const deltaX = this.dragEndX - this.dragStartX;\n          const absDeltaX = Math.abs(deltaX);\n          \n          // 50px\n          if (absDeltaX > 50) {\n            if (deltaX < 0) {\n              //  -> \n              this.showNextPhoto();\n            } else {\n              //  -> \n              this.showPreviousPhoto();\n            }\n            // \n            this.dragEndX = undefined;\n            this.dragEndY = undefined;\n          }\n        }\n      }\n      this.isDragging = false;\n    },\n    handleCanvasClick(e) {\n      //  navbar\n      // \n      if (this.dragEndX !== undefined && this.dragEndY !== undefined) {\n        const deltaX = Math.abs(this.dragStartX - this.dragEndX);\n        const deltaY = Math.abs(this.dragStartY - this.dragEndY);\n        //  5 \n        if (deltaX < 5 && deltaY < 5) {\n          this.showNavBar = !this.showNavBar;\n          this.$nextTick(() => {\n            this.drawImage();\n          });\n        }\n      }\n      // \n      this.dragEndX = undefined;\n      this.dragEndY = undefined;\n    },\n    // \n    getTouchDistance(touches) {\n      if (touches.length < 2) return 0;\n      const dx = touches[0].clientX - touches[1].clientX;\n      const dy = touches[0].clientY - touches[1].clientY;\n      return Math.sqrt(dx * dx + dy * dy);\n    },\n    // \n    getTouchCenter(touches) {\n      if (touches.length === 0) return { x: 0, y: 0 };\n      if (touches.length === 1) {\n        const canvas = this.$refs.canvas;\n        if (!canvas) return { x: 0, y: 0 };\n        const rect = canvas.getBoundingClientRect();\n        return {\n          x: touches[0].clientX - rect.left,\n          y: touches[0].clientY - rect.top\n        };\n      }\n      const canvas = this.$refs.canvas;\n      if (!canvas) return { x: 0, y: 0 };\n      const rect = canvas.getBoundingClientRect();\n      const x = (touches[0].clientX + touches[1].clientX) / 2 - rect.left;\n      const y = (touches[0].clientY + touches[1].clientY) / 2 - rect.top;\n      return { x, y };\n    },\n    handleTouchStart(e) {\n      e.preventDefault();\n      this.touches = Array.from(e.touches);\n      \n      if (this.touches.length === 1) {\n        //  - \n        const touch = this.touches[0];\n        this.isDragging = true;\n        this.dragStartX = touch.clientX;\n        this.dragStartY = touch.clientY;\n        this.dragStartOffsetX = this.offsetX;\n        this.dragStartOffsetY = this.offsetY;\n        this.dragEndX = touch.clientX;\n        this.dragEndY = touch.clientY;\n        this.isPinching = false;\n      } else if (this.touches.length === 2) {\n        //  - \n        this.isPinching = true;\n        this.isDragging = false;\n        this.lastTouchDistance = this.getTouchDistance(this.touches);\n        this.lastTouchCenter = this.getTouchCenter(this.touches);\n        this.lastTouchScale = this.scale;\n      }\n    },\n    handleTouchMove(e) {\n      e.preventDefault();\n      this.touches = Array.from(e.touches);\n      \n      if (this.touches.length === 1 && !this.isPinching) {\n        // \n        if (this.isDragging) {\n          const touch = this.touches[0];\n          const deltaX = touch.clientX - this.dragStartX;\n          const deltaY = touch.clientY - this.dragStartY;\n          this.offsetX = this.dragStartOffsetX + deltaX;\n          this.offsetY = this.dragStartOffsetY + deltaY;\n          this.dragEndX = touch.clientX;\n          this.dragEndY = touch.clientY;\n          this.drawImage();\n        }\n      } else if (this.touches.length === 2) {\n        // \n        this.isPinching = true;\n        this.isDragging = false;\n        \n        const currentDistance = this.getTouchDistance(this.touches);\n        const currentCenter = this.getTouchCenter(this.touches);\n        \n        if (this.lastTouchDistance > 0) {\n          // \n          const scaleChange = currentDistance / this.lastTouchDistance;\n          const newScale = Math.max(this.minScale, Math.min(this.lastTouchScale * scaleChange, this.maxScale));\n          \n          // \n          const scaleRatio = newScale / this.scale;\n          this.offsetX = currentCenter.x - (currentCenter.x - this.offsetX) * scaleRatio;\n          this.offsetY = currentCenter.y - (currentCenter.y - this.offsetY) * scaleRatio;\n          this.scale = newScale;\n          \n          // \n          if (this.lastTouchCenter.x !== 0 || this.lastTouchCenter.y !== 0) {\n            const centerDeltaX = currentCenter.x - this.lastTouchCenter.x;\n            const centerDeltaY = currentCenter.y - this.lastTouchCenter.y;\n            this.offsetX += centerDeltaX;\n            this.offsetY += centerDeltaY;\n          }\n          \n          this.drawImage();\n        }\n        \n        // \n        this.lastTouchDistance = currentDistance;\n        this.lastTouchCenter = currentCenter;\n      }\n    },\n    handleTouchEnd(e) {\n      e.preventDefault();\n      \n      // \n      if (this.touches.length === 1 && !this.isPinching && this.isDragging) {\n        //  changedTouches \n        const endTouch = e.changedTouches && e.changedTouches.length > 0 \n          ? e.changedTouches[0] \n          : this.touches[0];\n        this.dragEndX = endTouch.clientX;\n        this.dragEndY = endTouch.clientY;\n        \n        const deltaX = this.dragEndX - this.dragStartX;\n        const deltaY = this.dragEndY - this.dragStartY;\n        const absDeltaX = Math.abs(deltaX);\n        const absDeltaY = Math.abs(deltaY);\n        \n        // \n        if (this.scale === this.initialScale && absDeltaX > 5) {\n          if (deltaX < 0) {\n            //  -> \n            this.showNextPhoto();\n          } else {\n            //  -> \n            this.showPreviousPhoto();\n          }\n          // \n          this.dragEndX = undefined;\n          this.dragEndY = undefined;\n        } else if (absDeltaX < 5 && absDeltaY < 5) {\n          // \n          // \n          this.showNavBar = !this.showNavBar;\n          this.$nextTick(() => {\n            this.drawImage();\n          });\n        }\n      }\n      \n      // \n      this.touches = Array.from(e.touches);\n      \n      // \n      if (this.touches.length === 0) {\n        this.isDragging = false;\n        this.isPinching = false;\n        this.lastTouchDistance = 0;\n        this.lastTouchCenter = { x: 0, y: 0 };\n        this.dragEndX = undefined;\n        this.dragEndY = undefined;\n      } else if (this.touches.length === 1) {\n        // \n        this.isPinching = false;\n        const touch = this.touches[0];\n        this.isDragging = true;\n        this.dragStartX = touch.clientX;\n        this.dragStartY = touch.clientY;\n        this.dragStartOffsetX = this.offsetX;\n        this.dragStartOffsetY = this.offsetY;\n        this.dragEndX = touch.clientX;\n        this.dragEndY = touch.clientY;\n      }\n    },\n    // \n    toggleZoomPanel() {\n      this.showZoomPanel = !this.showZoomPanel;\n      if (this.showZoomPanel) {\n        // 10px\n        this.$nextTick(() => {\n          const toolbar = document.querySelector('.zoom-toolbar');\n          const zoomPanel = this.$refs.zoomPanel;\n          if (toolbar && zoomPanel) {\n            const toolbarRect = toolbar.getBoundingClientRect();\n            const panelRect = zoomPanel.getBoundingClientRect();\n            // \n            this.zoomPanelLeft = toolbarRect.left + (toolbarRect.width - panelRect.width) / 2;\n            // 10px\n            this.zoomPanelTop = toolbarRect.top - panelRect.height - 10;\n          }\n        });\n      }\n    },\n    handleSliderChange(e) {\n      const newScale = parseFloat(e.target.value) / 100;\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      // \n      const canvasCenterX = canvas.width / 2;\n      const canvasCenterY = canvas.height / 2;\n      const oldScale = this.scale;\n      const scaleRatio = newScale / oldScale;\n      \n      this.offsetX = canvasCenterX - (canvasCenterX - this.offsetX) * scaleRatio;\n      this.offsetY = canvasCenterY - (canvasCenterY - this.offsetY) * scaleRatio;\n      this.scale = Math.max(this.minScale, Math.min(newScale, this.maxScale));\n      this.drawImage();\n    },\n    handlePercentInput(e) {\n      // \n    },\n    handlePercentBlur(e) {\n      const inputValue = parseFloat(e.target.value);\n      if (isNaN(inputValue)) {\n        // \n        e.target.value = Math.round(this.scale * 100);\n        return;\n      }\n      \n      const clampedValue = Math.max(this.minScale * 100, Math.min(inputValue, this.maxScale * 100));\n      const newScale = clampedValue / 100;\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      // \n      const canvasCenterX = canvas.width / 2;\n      const canvasCenterY = canvas.height / 2;\n      const oldScale = this.scale;\n      const scaleRatio = newScale / oldScale;\n      \n      this.offsetX = canvasCenterX - (canvasCenterX - this.offsetX) * scaleRatio;\n      this.offsetY = canvasCenterY - (canvasCenterY - this.offsetY) * scaleRatio;\n      this.scale = newScale;\n      this.drawImage();\n      \n      // \n      e.target.value = Math.round(this.scale * 100);\n    },\n    handleKeyDown(e) {\n      // \n      const target = e.target;\n      if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      }\n      \n      // \n      if (e.key === 'ArrowLeft') {\n        e.preventDefault();\n        this.showPreviousPhoto();\n      } else if (e.key === 'ArrowRight') {\n        e.preventDefault();\n        this.showNextPhoto();\n      }\n    }\n  },\n  watch: {\n    current_photo(newVal, oldVal) {\n      if (newVal && newVal !== oldVal) {\n        // \n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.image = null;\n        this.thumbnail = null;\n        this.loadImages();\n      }\n    },\n    showNavBar(newVal) {\n      // \n      if (!newVal) {\n        this.showZoomPanel = false;\n      }\n      this.$nextTick(() => {\n        this.drawImage();\n      });\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.updateCanvasSize();\n      window.addEventListener('resize', this.updateCanvasSize);\n      \n      // \n      window.addEventListener('keydown', this.handleKeyDown);\n      \n      // \n      const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      const handleThemeChange = (e) => {\n        this.isDarkMode = e.matches;\n        this.drawImage();\n      };\n      darkModeMediaQuery.addEventListener('change', handleThemeChange);\n      this.darkModeMediaQuery = darkModeMediaQuery;\n      this.handleThemeChange = handleThemeChange;\n      \n      if (this.current_photo) {\n        this.loadImages();\n      }\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateCanvasSize);\n    // \n    window.removeEventListener('keydown', this.handleKeyDown);\n    // \n    if (this.darkModeMediaQuery && this.handleThemeChange) {\n      this.darkModeMediaQuery.removeEventListener('change', this.handleThemeChange);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.canvas-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  cursor: grab;\n  background-color: #fff;\n  /*  */\n  touch-action: none;\n  -ms-touch-action: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .canvas-container {\n    background-color: #000;\n  }\n}\n\n/*  */\n.preview-hidden-navbar .canvas-container {\n  background-color: #000 !important;\n}\n\n.canvas-container:active {\n  cursor: grabbing;\n}\n\ncanvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.zoom-toolbar {\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  /* iOS */\n  background: rgba(255, 255, 255, 0.7);\n  backdrop-filter: blur(20px) saturate(180%);\n  -webkit-backdrop-filter: blur(20px) saturate(180%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);\n  padding: 8px 12px;\n  border-radius: 12px;\n  z-index: 1000;\n}\n\n.toolbar-group {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n.toolbar-divider {\n  width: 1px;\n  height: 24px;\n  background: rgba(0, 0, 0, 0.2);\n  margin: 0 2px;\n}\n\n@media (prefers-color-scheme: dark) {\n  .toolbar-divider {\n    background: rgba(255, 255, 255, 0.2);\n  }\n}\n\n.photo-counter {\n  font-size: 13px;\n  color: #333;\n  user-select: none;\n  padding: 0 4px;\n  min-width: 50px;\n  text-align: center;\n}\n\n@media (prefers-color-scheme: dark) {\n  .photo-counter {\n    color: #fff;\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-toolbar {\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);\n  }\n}\n\n.zoom-btn {\n  background: rgba(255, 255, 255, 0.9);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #333;\n  font-size: 14px;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);\n}\n\n.zoom-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 1);\n  transform: scale(1.05);\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);\n}\n\n.zoom-btn:active:not(:disabled) {\n  transform: scale(0.95);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n}\n\n.zoom-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: rgba(255, 255, 255, 0.5);\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-btn {\n    background: rgba(255, 255, 255, 0.15);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    color: #fff;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);\n  }\n\n  .zoom-btn:hover:not(:disabled) {\n    background: rgba(255, 255, 255, 0.25);\n    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n  }\n\n  .zoom-btn:disabled {\n    background: rgba(255, 255, 255, 0.08);\n  }\n}\n\n.zoom-percent-btn {\n  min-width: 50px;\n}\n\n.zoom-panel {\n  position: fixed;\n  width: 200px;\n  /* iOS -  */\n  background: rgba(255, 255, 255, 0.7);\n  backdrop-filter: blur(20px) saturate(180%);\n  -webkit-backdrop-filter: blur(20px) saturate(180%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);\n  padding: 8px 12px;\n  border-radius: 12px;\n  z-index: 1001;\n  display: flex;\n  align-items: center;\n  user-select: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-panel {\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);\n  }\n}\n\n.zoom-panel-input-group {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n}\n\n.zoom-panel-input-group .zoom-slider {\n  flex: 1;\n  padding: 0;\n}\n\n.zoom-slider {\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.1);\n  outline: none;\n  -webkit-appearance: none;\n  appearance: none;\n  cursor: pointer;\n}\n\n.zoom-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.zoom-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-slider {\n    background: rgba(255, 255, 255, 0.2);\n  }\n  \n  .zoom-slider::-webkit-slider-thumb {\n    background: rgba(255, 255, 255, 0.9);\n    border: 2px solid rgba(255, 255, 255, 0.3);\n  }\n  \n  .zoom-slider::-moz-range-thumb {\n    background: rgba(255, 255, 255, 0.9);\n    border: 2px solid rgba(255, 255, 255, 0.3);\n  }\n}\n\n.zoom-percent-input {\n  width: 50px;\n  padding: 4px 8px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  font-size: 14px;\n  text-align: center;\n  outline: none;\n}\n\n.zoom-percent-input:focus {\n  border-color: rgba(0, 0, 0, 0.4);\n  background: rgba(255, 255, 255, 1);\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-percent-input {\n    background: rgba(255, 255, 255, 0.15);\n    border-color: rgba(255, 255, 255, 0.2);\n    color: #fff;\n  }\n  \n  .zoom-percent-input:focus {\n    border-color: rgba(255, 255, 255, 0.4);\n    background: rgba(255, 255, 255, 0.2);\n  }\n}\n\n.zoom-percent-suffix {\n  font-size: 14px;\n  color: #666;\n  user-select: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .zoom-percent-suffix {\n    color: #ccc;\n  }\n}\n\n.zoom-btn svg {\n  display: block;\n  flex-shrink: 0;\n}\n\n\n@media screen and (max-width: 450px) {\n  .zoom-toolbar {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    transform: none;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-bottom: none;\n    padding: 10px 8px;\n    gap: 6px;\n    justify-content: center;\n    overflow-x: auto;\n    overflow-y: hidden;\n    -webkit-overflow-scrolling: touch;\n  }\n  \n  .zoom-toolbar::-webkit-scrollbar {\n    display: none;\n  }\n  \n  .toolbar-group {\n    gap: 6px;\n    flex-shrink: 0;\n  }\n  \n  .zoom-btn {\n    width: 32px;\n    height: 32px;\n    font-size: 11px;\n    flex-shrink: 0;\n  }\n  \n  .zoom-btn span {\n    font-size: 14px !important;\n  }\n  \n  .zoom-percent-btn {\n    min-width: 44px;\n  }\n  \n  .zoom-percent-btn span {\n    font-size: 11px !important;\n  }\n  \n  .photo-counter {\n    font-size: 11px;\n    min-width: 45px;\n    padding: 0 3px;\n  }\n  \n  .toolbar-divider {\n    height: 20px;\n    margin: 0 2px;\n  }\n}\n\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=3da3d5a2&scoped=true\"\nimport script from \"./Preview.vue?vue&type=script&lang=js\"\nexport * from \"./Preview.vue?vue&type=script&lang=js\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=3da3d5a2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3da3d5a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pwdi\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\",\"width\":\"100%\",\"margin\":\"0 0\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true || _vm.password_dialog_shown),expression:\"true || password_dialog_shown\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"pwdi.title\"))+\" \")]),_c('div',{staticClass:\"ctnt\"},[(!_vm.passwordErrorMsgShown)?_c('p',[_vm._v(_vm._s(_vm.tr(\"pwdi.hint\")))]):_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.tr(\"pwdi.retry\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordEntered),expression:\"passwordEntered\"}],ref:\"pi\",attrs:{\"type\":\"password\",\"placeholder\":_vm.tr('Password')},domProps:{\"value\":(_vm.passwordEntered)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submitPassword()},\"input\":function($event){if($event.target.composing)return;_vm.passwordEntered=$event.target.value}}}),_c('div',{staticStyle:{\"padding-top\":\"25px\",\"text-align\":\"center\"}},[_c('button',{staticClass:\"primary\",staticStyle:{\"width\":\"100px\"},attrs:{\"disabled\":!_vm.password_dialog_shown},on:{\"click\":function($event){return _vm.submitPassword()}}},[_vm._v(_vm._s(_vm.tr(\"OK\")))])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pwdi\">\n    <div style=\"position: relative; height: 100%; width: 100%; margin: 0 0\">\n      <div class=\"dialog\" v-show=\"true || password_dialog_shown\">\n        <div class=\"title\">\n          {{ tr(\"pwdi.title\") }}\n        </div>\n        <div class=\"ctnt\">\n          <p v-if=\"!passwordErrorMsgShown\">{{ tr(\"pwdi.hint\") }}</p>\n          <p v-else style=\"color: red\">{{ tr(\"pwdi.retry\") }}</p>\n          <input ref=\"pi\" type=\"password\" :placeholder=\"tr('Password')\" v-model=\"passwordEntered\" @keyup.enter=\"submitPassword()\"/>\n          <div style=\"padding-top: 25px; text-align: center\">\n            <button class=\"primary\" style=\"width: 100px;\" @click=\"submitPassword()\" :disabled=\"!password_dialog_shown\">{{ tr(\"OK\") }}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/passwordinput.css';\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: \"PasswordInput\",\n  data: () => ({\n    passwordErrorMsgShown: false,\n    passwordEntered: '',\n\n    password_dialog_shown: true,\n    showInput: true,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    async submitPassword() {\n      if (!this.password_dialog_shown) return;\n      console.log('submit password: ', md5(this.passwordEntered));\n      if (this.passwordEntered === '') return this.$refs.pi.focus();\n      this.password_dialog_shown = false;\n      this.$emit('submit-password', md5(this.passwordEntered));\n    },\n    feedback(bResult) {\n      if (!bResult) {\n        this.password_dialog_shown = true;\n        this.passwordEntered = '';\n        this.passwordErrorMsgShown = true;\n      }\n    }\n  },\n  watch: {\n    password_dialog_shown() {\n\n    }\n  },\n  mounted() {\n    this.$refs.pi.focus();\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PasswordInput.vue?vue&type=template&id=a95f5d60&scoped=true\"\nimport script from \"./PasswordInput.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordInput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a95f5d60\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"popd\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.closeSettings.apply(null, arguments)}}},[_c('div',{staticClass:\"dialog\",staticStyle:{\"max-width\":\"500px\",\"max-height\":\"80vh\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"Settings\"))+\" \")]),_c('div',{staticClass:\"ctnt\",staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticClass:\"settings-section\"},[_c('h3',[_vm._v(_vm._s(_vm.tr(\"General\")))]),_c('div',{staticClass:\"settings-item\"},[_c('label',[_vm._v(_vm._s(_vm.tr(\"Language\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedLanguage),expression:\"selectedLanguage\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedLanguage=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.onLanguageChange]}},[_c('option',{attrs:{\"value\":\"zh-CN\"}},[_vm._v(\"\")]),_c('option',{attrs:{\"value\":\"en-US\"}},[_vm._v(\"English\")])]),_c('p',{staticClass:\"settings-hint\"},[_vm._v(_vm._s(_vm.tr(\"settings.language_hint\")))])])]),_c('div',{staticClass:\"settings-section\"},[_c('h3',[_vm._v(_vm._s(_vm.tr(\"About\")))]),_c('div',{staticClass:\"settings-item\"},[_c('p',[_vm._v(\"Beautiful Album\")]),_vm._m(0),_c('p',{staticStyle:{\"margin-top\":\"10px\",\"color\":\"#888\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.tr(\"settings.license\")))])])])]),_c('div',{staticClass:\"cbgroup\",staticStyle:{\"padding-top\":\"3px\",\"text-align\":\"right\",\"padding-right\":\"10px\"}},[_c('button',{staticClass:\"complete\",on:{\"click\":_vm.closeSettings}},[_vm._v(_vm._s(_vm.tr(\"Close\")))])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_c('a',{staticClass:\"github-link\",attrs:{\"href\":\"https://github.com/acane77/BeautifulAlbum\",\"target\":\"_blank\"}},[_vm._v(\"GitHub Repository\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"popd\" @click.self=\"closeSettings\">\r\n    <div class=\"dialog\" style=\"max-width: 500px; max-height: 80vh; overflow-y: auto;\">\r\n      <div class=\"title\">\r\n        {{ tr(\"Settings\") }}\r\n      </div>\r\n      <div class=\"ctnt\" style=\"text-align: left\">\r\n        <div class=\"settings-section\">\r\n          <h3>{{ tr(\"General\") }}</h3>\r\n          <div class=\"settings-item\">\r\n            <label>{{ tr(\"Language\") }}</label>\r\n            <select v-model=\"selectedLanguage\" @change=\"onLanguageChange\">\r\n              <option value=\"zh-CN\"></option>\r\n              <option value=\"en-US\">English</option>\r\n            </select>\r\n            <p class=\"settings-hint\">{{ tr(\"settings.language_hint\") }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"settings-section\">\r\n          <h3>{{ tr(\"About\") }}</h3>\r\n          <div class=\"settings-item\">\r\n            <p>Beautiful Album</p>\r\n            <p style=\"margin-top: 10px;\">\r\n              <a href=\"https://github.com/acane77/BeautifulAlbum\" target=\"_blank\" class=\"github-link\">GitHub Repository</a>\r\n            </p>\r\n            <p style=\"margin-top: 10px; color: #888; font-size: 12px;\">{{ tr(\"settings.license\") }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"cbgroup\" style=\"padding-top: 3px; text-align: right; padding-right: 10px\">\r\n        <button class=\"complete\" @click=\"closeSettings\">{{ tr(\"Close\") }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '../css/popup.css';\r\nimport utils from \"@/js/utils\";\r\n\r\nfunction GetCurrentLanguage() {\r\n    let lan = navigator.language;\r\n    if (window.localStorage) {\r\n        let user_set_lan = window.localStorage.getItem(\"language\");\r\n        if (typeof user_set_lan !== \"undefined\" && user_set_lan != null && user_set_lan.length) {\r\n            lan = user_set_lan;\r\n        }\r\n    }\r\n    if (lan.startsWith(\"en\"))\r\n        return \"en-US\";\r\n    else\r\n        return lan;\r\n}\r\n\r\nexport default {\r\n  name: \"Settings\",\r\n  data: () => ({\r\n    selectedLanguage: 'zh-CN',\r\n  }),\r\n  methods: {\r\n    tr(x, ...args) { return utils.translate(x, ...args) },\r\n    closeSettings() {\r\n      this.$emit('close-settings');\r\n    },\r\n    onLanguageChange() {\r\n      //  localStorage\r\n      if (window.localStorage) {\r\n        window.localStorage.setItem(\"language\", this.selectedLanguage);\r\n      }\r\n      // \r\n      location.reload();\r\n    }\r\n  },\r\n  mounted() {\r\n    //  GetCurrentLanguage \r\n    this.selectedLanguage = GetCurrentLanguage();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.settings-section {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.settings-section h3 {\r\n  margin: 0 0 15px 0;\r\n  font-size: 16px;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.settings-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.settings-item label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n  font-size: 14px;\r\n}\r\n\r\n.settings-item select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  background: #fff;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.settings-item p {\r\n  margin: 5px 0;\r\n  color: #555;\r\n  font-size: 14px;\r\n}\r\n\r\n.settings-item p.settings-hint {\r\n  margin-top: 5px;\r\n  color: #888;\r\n  font-size: 12px;\r\n}\r\n\r\n.settings-item a.github-link {\r\n  color: #5555ff;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n}\r\n\r\n.settings-item a.github-link:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n@media screen and (max-width: 500px) {\r\n  .settings-section h3 {\r\n    font-size: 18px;\r\n  }\r\n  \r\n  .settings-item label,\r\n  .settings-item p {\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=2a993242&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=2a993242&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a993242\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div :class=\"['content-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen']\">\n      <ContentView ref=\"contentView\" :base_name=\"contentAlbumName\" :album_friendly_name=\"contentFriendlyName\"\n                   @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n                   :sidebar_shown_pc = \"sidebar_shown_on_pc_mode\"\n                   @preview-photo=\"(a,b,c,d,e,f) => previewPhoto(a,b,c,d,e,f)\"\n      ></ContentView>\n    </div>\n    <div class=\"sidebar-mobile-mask\" v-show=\"sidebar_shown_on_mobile_mode\" @click=\"sidebar_shown_on_mobile_mode = false\"></div>\n    <div :class=\"['sidebar-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen', sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']\">\n      <Sidebar ref=\"sidebar\" :people_enabled=\"people_enabled\"\n               @switch-album=\"(album_name, friendly_name) => { this.contentAlbumName = album_name; this.contentFriendlyName = friendly_name; }\"\n               @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n               @open-settings=\"settings_shown = true\"\n      ></Sidebar>\n    </div>\n    <div class=\"preview-container\" v-show=\"preview_shown\">\n      <Preview  :current_photo_filename=\"preview_filename\" :image_list=\"preview_imagelist\" :index=\"preview_index\" :current_album_name=\"preview_album_name\"\n                :catalog_name=\"contentFriendlyName\" :current_photo=\"preview_current_obj\" :photo_count=\"preview_photo_count\"\n                @hide-preview=\"preview_shown = false\"\n                @change-photo=\"(a,b,c,d,e) => previewPhoto(a,b,c,d,e, preview_photo_count)\"\n                @load-more-photos=\"(targetIndex) => loadMorePhotos(targetIndex)\"\n      ></Preview>\n    </div>\n    <div class=\"password-container\" v-show=\"password_input_shown\">\n      <PasswordInput ref=\"password_input\" @submit-password=\"pwd => checkPassword(pwd)\"></PasswordInput>\n    </div>\n    <div class=\"settings-container\" v-show=\"settings_shown\">\n      <Settings @close-settings=\"settings_shown = false\"></Settings>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Sidebar from \"@/components/Sidebar\";\nimport ContentView from \"@/components/Content\";\nimport Preview from '@/components/Preview';\nimport PasswordInput from \"@/components/PasswordInput\";\nimport Settings from \"@/components/Settings\";\n\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: 'App',\n  components: {\n    Sidebar, ContentView, Preview, PasswordInput, Settings\n  },\n  data: () => ({\n    activeName: 'beautiful-album',\n    content_view_shown: true,\n    sidebar_shown_on_mobile_mode: false,\n    sidebar_shown_on_pc_mode: true,\n    password_input_shown: false,\n    settings_shown: false,\n\n    preview_shown: false,\n    preview_filename: '',\n    preview_imagelist: [],\n    preview_index: 0,\n    preview_album_name: '',\n    preview_current_obj: '',\n    preview_photo_count: 0,\n\n    contentAlbumName: \"\",\n    contentFriendlyName: \"\",\n\n    // People feature in Sidebar\n    people_enabled: false,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    previewPhoto(filename, photo_list, index, album_name, photo_obj, photo_count) {\n      this.preview_filename = filename;\n      this.preview_index = index;\n      this.preview_imagelist = photo_list;\n      this.preview_album_name = album_name;\n      this.preview_current_obj = photo_obj;\n      this.preview_photo_count = photo_count || photo_list.length;\n      this.preview_shown = true;\n    },\n    async loadMorePhotos(targetIndex) {\n      if (this.$refs.contentView) {\n        await this.$refs.contentView.load_image();\n        // \n        this.$nextTick(() => {\n          //  Content  photo_list preview_imagelist \n          const photoList = this.$refs.contentView.photo_list;\n          if (targetIndex !== undefined && photoList && targetIndex < photoList.length) {\n            const photo = photoList[targetIndex];\n            this.previewPhoto(photo.name, photoList, targetIndex, photo.al, photo, this.preview_photo_count);\n          }\n        });\n      }\n    },\n\n    async requirePassword() {\n      this.password_input_shown = true;\n    },\n\n    async checkPassword(pwd) {\n      // check if is share link\n      if (window.is_share_link) {\n        let album_hash = utils.md5_transform(window.share_id, pwd);\n        console.log(\"share id:  \", window.share_id);\n        console.log(\"password:  \", pwd);\n        console.log(\"album_hash:\", album_hash);\n\n        try {\n          await utils.get_json(`shared/${album_hash}-get-photo-count`);\n          this.$refs.password_input.feedback(true);\n          this.password_input_shown = false;\n\n          this.initialize_for_share(album_hash); // initialize for share link\n        }\n        catch (ee) {\n          this.requirePassword();\n          this.$refs.password_input.feedback(false);\n        }\n        return;\n      }\n\n      // is a normal login\n      window.miyuki_password = pwd\n      window.enabled_password = true;\n      try {\n        await utils.get_secured_json('get-album');\n        localStorage.setItem(\"password\", pwd)\n        this.$refs.password_input.feedback(true);\n        this.password_input_shown = false;\n        this.initialize();\n      }\n      catch (ee) {\n        localStorage.removeItem(\"password\");\n        this.requirePassword();\n        this.$refs.password_input.feedback(false);\n      }\n    },\n\n    initialize() {\n      this.$refs.sidebar.getAlbumList();\n\n      this.contentAlbumName = \"/all\";\n      this.contentFriendlyName = this.tr(\"sidebar.photo_library\");\n    },\n\n    initialize_for_share(album_hash) {\n      this.$refs.sidebar.getAlbumListForShare(album_hash);\n\n      this.contentAlbumName = \"/share\";\n      this.contentFriendlyName = this.tr(\"sidebar.shared_album\");\n    },\n  },\n  async mounted() {\n    if (window.innerWidth <= 500)\n      this.sidebar_shown_on_mobile_mode = true;\n\n    // Check if password enabled\n    let password_enabled;\n\n    function parse_args() {\n      let _args = {};\n      let args = location.href.split(\"?\")[1];\n      if (typeof args == \"undefined\")\n        return _args;\n      args.split('&').forEach(function(item) {\n        var s = item.split('=');\n        _args[s[0]] = s[1];\n      });\n      return _args;\n    }\n    let _args = parse_args();\n\n    // check if is a share link\n    window.is_share_link = typeof _args[\"shared_id\"] !== \"undefined\";\n    window.share_id = String(_args[\"shared_id\"]).padEnd(32, \"0\")\n    password_enabled = window.is_share_link;\n\n    if (window.is_share_link) {\n      // clear stored password if is a share link\n      localStorage.removeItem('password');\n    }\n\n    if (!window.is_share_link) {\n      const app_config = await utils.get_json('password');\n      password_enabled = app_config.enabled;\n      this.people_enabled = app_config.people_enabled;\n    }\n\n    let __TRUE__ = true;\n    if (password_enabled) {\n      if (localStorage.getItem(\"password\") !== null) {\n        this.checkPassword(localStorage.getItem(\"password\"))\n      }\n      else this.requirePassword();\n    }\n    else {\n      window.enabled_password = false;\n      this.initialize();\n    }\n\n  }\n}\n</script>\n\n<style>\nhtml, body {\n  margin: 0;\n  /*  */\n  touch-action: pan-x pan-y;\n  -ms-touch-action: pan-x pan-y;\n  /*  */\n  -webkit-tap-highlight-color: transparent;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 10px;\n}\n\n/* TODO: Consider mobile devices */\n\n.sidebar-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: inline-block;\n  width: 25%;\n  height: 100%;\n  background: aliceblue;\n}\n.content-container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  display: inline-block;\n  width: 75%;\n  background: #fff;\n  height: 100%;\n}\n\n.sidebar-container.sidebar-hidden {\n  display: none;\n  position: fixed;\n  z-index: 2333;\n  top: 0;\n  width: 300px;\n  height: 100%;\n}\n.sidebar-container.sidebar-hidden {\n  display: block;\n}\n.content-container.sidebar-hidden {\n  width: 100%;\n}\n\n.sidebar-container.side-hidden-screen {\n  display: none;\n}\n.content-container.side-hidden-screen {\n  left: 0;\n  width: 100%;\n}\n\n.navbar.sidebar-hidden {\n  width: 300px !important;\n}\n\n.sidebar-mobile-mask {\n  position: fixed;\n  background: rgba(0,0,0,0.1);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  display: none;\n}\n\n@media screen and (min-width: 1400px) {\n  .sidebar-container {\n    width: 20%;\n  }\n  .content-container {\n    width: 80%;\n  }\n}\n\n@media screen and (max-width: 1100px) {\n  .sidebar-container {\n    display: none;\n    position: fixed;\n    z-index: 2333;\n    top: 0;\n    width: 300px;\n    height: 100%;\n  }\n  .sidebar-container.sidebar-hidden {\n    display: none;\n  }\n  .sidebar-container.sidebar-mobile-shown {\n    display: block;\n  }\n  .content-container {\n    width: 100%;\n  }\n\n  .navbar {\n    width: 300px !important;\n  }\n  .sidebar-mobile-mask {\n    display: block;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .sidebar-container {\n    width: 100%;\n  }\n  .navbar {\n    width: 100% !important;\n  }\n}\n\n\ndiv.preview-container {\n  position: fixed;\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n\ndiv.settings-container {\n  position: fixed;\n  z-index: 10000;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4975b5b1\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4975b5b1&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\n// \n;(function() {\n  // \n  document.addEventListener('gesturestart', function(e) {\n    e.preventDefault();\n  });\n  document.addEventListener('gesturechange', function(e) {\n    e.preventDefault();\n  });\n  document.addEventListener('gestureend', function(e) {\n    e.preventDefault();\n  });\n\n  //  (Ctrl/Cmd + )\n  document.addEventListener('wheel', function(e) {\n    if (e.ctrlKey || e.metaKey) {\n      e.preventDefault();\n    }\n  }, { passive: false });\n\n  //  (Ctrl/Cmd + +/-/0)\n  document.addEventListener('keydown', function(e) {\n    if ((e.ctrlKey || e.metaKey) && (e.key === '+' || e.key === '-' || e.key === '=' || e.key === '0')) {\n      e.preventDefault();\n    }\n  });\n\n  // \n  document.addEventListener('touchstart', function(e) {\n    if (e.touches.length > 1) {\n      e.preventDefault();\n    }\n  }, { passive: false });\n\n  document.addEventListener('touchmove', function(e) {\n    if (e.touches.length > 1) {\n      e.preventDefault();\n    }\n  }, { passive: false });\n}());\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=3da3d5a2&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=2a993242&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=style&index=0&id=107806a9&prod&scoped=true&lang=css\""],"sourceRoot":""}